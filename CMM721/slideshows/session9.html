<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMM721 - Session 9: React & State Management</title>

    <link rel="stylesheet" href="../../libs/reveal.js/dist/reset.css">
    <link rel="stylesheet" href="../../libs/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="../../placeholder/academic-theme.css">

    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="../../libs/reveal.js/plugin/highlight/monokai.css">
</head>

<body>
    <div class="slide-nav">
        <a href="../../index.html" title="Home">H</a>
        <a href="../index.html" title="Module Home">M</a>
        <a href="session8.html" title="Previous Session">&lt;</a>
        <a href="session10.html" title="Next Session">&gt;</a>
    </div>
    <div class="reveal">
        <div class="slides">

            <!-- Title Slide -->
            <section class="title-slide" data-slide-title="Title Slide">
                <div class="module-code">CMM721</div>
                <h1>React & State Management</h1>
                <h2>Session 9</h2>
                <div class="author">
                    <p><strong>James Williams</strong></p>
                    <p><a href="mailto:jwilliams@staff.newman.ac.uk">jwilliams@staff.newman.ac.uk</a></p>
                </div>
            </section>

            <section data-slide-title="Learning Objectives">
                <h2>Learning Objectives</h2>
                <ul>
                    <li>Understand React component architecture</li>
                    <li>Work with JSX syntax</li>
                    <li>Manage component state with hooks</li>
                    <li>Handle props and data flow</li>
                    <li>Use useEffect for side effects</li>
                    <li>Understand Redux state management basics</li>
                </ul>
            </section>

            <section data-slide-title="What is React?">
                <h2>What is React?</h2>
                <div class="highlight">
                    <strong>React:</strong> JavaScript library for building user interfaces
                </div>
                <ul>
                    <li><strong>Component-Based:</strong> Build encapsulated components</li>
                    <li><strong>Declarative:</strong> Describe what UI should look like</li>
                    <li><strong>Virtual DOM:</strong> Efficient updates and rendering</li>
                    <li><strong>Learn Once, Write Anywhere:</strong> React, React Native</li>
                </ul>
                <h3>Setup:</h3>
                <div class="code-example">
                    <pre><code class="language-bash"># Install Node.js, then:
npx create-react-app my-app
cd my-app
npm start
# Visit: http://localhost:3000</code></pre>
                </div>
            </section>

            <section data-slide-title="JSX Syntax">
                <h2>JSX Syntax</h2>
                <div class="highlight">
                    <strong>JSX:</strong> JavaScript XML - HTML-like syntax in JavaScript
                </div>
                <div class="code-example">
                    <pre><code class="language-html">// JSX
const element = &lt;h1&gt;Hello, CMM721!&lt;/h1&gt;;
// With expressions
const name = 'Student';
const greeting = &lt;h1&gt;Hello, {name}!&lt;/h1&gt;;
// With attributes
const button = &lt;button className="btn" onClick={handleClick}&gt;
Click Me
&lt;/button&gt;;
// Multi-line
const element = (
&lt;div&gt;
&lt;h1&gt;Title&lt;/h1&gt;
&lt;p&gt;Content&lt;/p&gt;
&lt;/div&gt;
);</code></pre>
                </div>
            </section>

            <section data-slide-title="Function Components">
                <h2>Function Components</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">// Simple component
function Welcome() {
return &lt;h1&gt;Hello, World!&lt;/h1&gt;;
}
// With props
function Welcome(props) {
return &lt;h1&gt;Hello, {props.name}!&lt;/h1&gt;;
}
// Arrow function
const Welcome = ({ name }) =&gt; {
return &lt;h1&gt;Hello, {name}!&lt;/h1&gt;;
};
// Usage
&lt;Welcome name="James" /&gt;</code></pre>
                </div>
            </section>

            <section data-slide-title="üéØ Component Hierarchy">
                <h2>üéØ Component Hierarchy</h2>
                <div class="demo-container">
                    <h3>React Component Tree</h3>
                    <div style="text-align: center;">
                        <div class="component-box">
                            <h4>App</h4>
                            <small>Root component</small>
                        </div>
                        <div style="font-size: 2em; color: #9b59b6; margin: 10px 0;">‚Üì</div>
                        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                            <div class="component-box">
                                <h4>Header</h4>
                                <small>Navigation</small>
                            </div>
                            <div class="component-box">
                                <h4>Main</h4>
                                <small>Content area</small>
                            </div>
                            <div class="component-box">
                                <h4>Footer</h4>
                                <small>Site info</small>
                            </div>
                        </div>
                        <div style="font-size: 2em; color: #9b59b6; margin: 10px 0;">‚Üì</div>
                        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                            <div class="component-box" style="background: #e8eaf6;">
                                <h4>PostList</h4>
                                <small>Fetch & display</small>
                            </div>
                            <div class="component-box" style="background: #e8eaf6;">
                                <h4>PostItem</h4>
                                <small>Single post</small>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section data-slide-title="useState Hook">
                <h2>useState Hook</h2>
                <div class="code-example">
                    <pre><code class="language-html">import { useState } from 'react';
function Counter() {
const [count, setCount] = useState(0);
return (
&lt;div&gt;
&lt;p&gt;Count: {count}&lt;/p&gt;
&lt;button onClick={() =&gt; setCount(count + 1)}&gt;
Increment
&lt;/button&gt;
&lt;button onClick={() =&gt; setCount(count - 1)}&gt;
Decrement
&lt;/button&gt;
&lt;/div&gt;
);
}</code></pre>
                </div>
                <div class="highlight">
                    <strong>useState:</strong> Returns [value, setter function]
                </div>
            </section>

            <section data-slide-title="üéØ LIVE DEMO: Counter with State">
                <h2>üéØ LIVE DEMO: Counter with State</h2>
                <div class="demo-container">
                    <h3>Interactive Counter Component</h3>
                    <div class="react-demo">
                        <div class="counter-display" id="counterDisplay">0</div>
                        <div style="text-align: center;">
                            <button class="demo-button" onclick="decrementCounter()">‚ûñ Decrement</button>
                            <button class="demo-button" onclick="resetCounter()">üîÑ Reset</button>
                            <button class="demo-button" onclick="incrementCounter()">‚ûï Increment</button>
                        </div>
                        <div style="text-align: center; margin-top: 15px; color: #666;">
                            <small>Simulating React state updates with useState</small>
                        </div>
                    </div>
                </div>
                
                <script>
                    let count = 0;
                    
                    function updateDisplay() {
                        document.getElementById('counterDisplay').textContent = count;
                    }
                    
                    function incrementCounter() {
                        count++;
                        updateDisplay();
                    }
                    
                    function decrementCounter() {
                        count--;
                        updateDisplay();
                    }
                    
                    function resetCounter() {
                        count = 0;
                        updateDisplay();
                    }
                </script>
            </section>

            <section data-slide-title="Props">
                <h2>Props</h2>
                <div class="highlight">
                    <strong>Props:</strong> Pass data from parent to child components
                </div>
                <div class="code-example">
                    <pre><code class="language-html">// Parent component
function App() {
return (
&lt;div&gt;
&lt;Greeting name="James" role="Lecturer" /&gt;
&lt;Greeting name="Student" role="Learner" /&gt;
&lt;/div&gt;
);
}
// Child component
function Greeting({ name, role }) {
return (
&lt;div&gt;
&lt;h2&gt;Hello, {name}!&lt;/h2&gt;
&lt;p&gt;Role: {role}&lt;/p&gt;
&lt;/div&gt;
);
}</code></pre>
                </div>
            </section>

            <section data-slide-title="Lists and Keys">
                <h2>Lists and Keys</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">function PostList() {
const posts = [
{ id: 1, title: 'Django Tutorial' },
{ id: 2, title: 'React Basics' },
{ id: 3, title: 'REST APIs' }
];
return (
&lt;ul&gt;
{posts.map(post =&gt; (
&lt;li key={post.id}&gt;{post.title}&lt;/li&gt;
))}
&lt;/ul&gt;
);
}</code></pre>
                </div>
                <div class="highlight">
                    <strong>Keys:</strong> Help React identify which items changed
                </div>
            </section>

            <section data-slide-title="Task 1: Build React Components">
                <h2>Task 1: Build React Components</h2>
                <div class="task-box">
                    <h3>Objective:</h3>
                    <p>Create a blog interface using React components</p>
                    <h3>Requirements:</h3>
                    <ol>
                        <li>Create React app: npx create-react-app blog-app</li>
                        <li>Build Header component with navigation</li>
                        <li>Create PostList component displaying array of posts</li>
                        <li>Create PostItem component for individual post</li>
                        <li>Implement Counter component with useState</li>
                        <li>Pass props from parent to child components</li>
                        <li>Use .map() to render post list</li>
                    </ol>
                    <h3>Components:</h3>
                    <ul>
                        <li>App - Root component</li>
                        <li>Header - Site header</li>
                        <li>PostList - List container</li>
                        <li>PostItem - Single post card</li>
                    </ul>
                </div>
            </section>

            <section data-slide-title="useEffect Hook">
                <h2>useEffect Hook</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">import { useState, useEffect } from 'react';
function Posts() {
const [posts, setPosts] = useState([]);
const [loading, setLoading] = useState(true);
useEffect(() =&gt; {
fetch('http://localhost:8000/api/posts/')
.then(response =&gt; response.json())
.then(data =&gt; {
setPosts(data);
setLoading(false);
});
}, []); // Empty array = run once on mount
if (loading) return &lt;p&gt;Loading...&lt;/p&gt;;
return &lt;PostList posts={posts} /&gt;;
}</code></pre>
                </div>
            </section>

            <section data-slide-title="üéØ LIVE DEMO: Fetch Posts">
                <h2>üéØ LIVE DEMO: Fetch Posts</h2>
                <div class="demo-container">
                    <h3>Simulating useEffect Data Fetching</h3>
                    <div class="react-demo">
                        <button class="demo-button" onclick="fetchPosts()">Fetch Posts from API</button>
                        <div id="postsDisplay" style="margin-top: 20px; min-height: 100px;">
                            <p style="color: #666;">Click button to fetch posts...</p>
                        </div>
                    </div>
                </div>
                
                <script>
                    async function fetchPosts() {
                        const display = document.getElementById('postsDisplay');
                        display.innerHTML = '<p style="color: #9b59b6;">‚è≥ Loading posts...</p>';
                        
                        try {
                            const response = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=5');
                            const posts = await response.json();
                            
                            let html = '<div style="background: #f8f9fa; padding: 15px; border-radius: 5px;">';
                            posts.forEach(post => {
                                html += `
                                    <div style="background: white; padding: 15px; margin: 10px 0; border-radius: 5px; border-left: 4px solid #9b59b6;">
                                        <h4 style="margin: 0 0 10px 0; color: #9b59b6;">${post.title}</h4>
                                        <p style="margin: 0; color: #666; font-size: 0.9em;">${post.body.substring(0, 100)}...</p>
                                    </div>
                                `;
                            });
                            html += '</div>';
                            display.innerHTML = html;
                        } catch (error) {
                            display.innerHTML = '<p style="color: #e74c3c;">‚ùå Error fetching posts</p>';
                        }
                    }
                </script>
            </section>

            <section data-slide-title="useEffect Dependencies">
                <h2>useEffect Dependencies</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">// Run once on mount
useEffect(() =&gt; {
fetchData();
}, []);
// Run when 'id' changes
useEffect(() =&gt; {
fetchPost(id);
}, [id]);
// Run on every render (avoid!)
useEffect(() =&gt; {
console.log('Component rendered');
});
// Cleanup function
useEffect(() =&gt; {
const timer = setInterval(() =&gt; {
console.log('Tick');
}, 1000);
return () =&gt; clearInterval(timer); // Cleanup
}, []);</code></pre>
                </div>
            </section>

            <section data-slide-title="Forms in React">
                <h2>Forms in React</h2>
                <div class="code-example">
                    <pre><code class="language-html">function CreatePost() {
const [title, setTitle] = useState('');
const [content, setContent] = useState('');
const handleSubmit = (e) =&gt; {
e.preventDefault();
console.log({ title, content });
// Send to API
};
return (
&lt;form onSubmit={handleSubmit}&gt;
&lt;input
value={title}
onChange={(e) =&gt; setTitle(e.target.value)}
/&gt;
&lt;textarea
value={content}
onChange={(e) =&gt; setContent(e.target.value)}
/&gt;
&lt;button type="submit"&gt;Create Post&lt;/button&gt;
&lt;/form&gt;
);
}</code></pre>
                </div>
            </section>

            <section data-slide-title="Task 2: Fetch from Django API">
                <h2>Task 2: Fetch from Django API</h2>
                <div class="task-box">
                    <h3>Objective:</h3>
                    <p>Connect React frontend to Django REST API</p>
                    <h3>Requirements:</h3>
                    <ol>
                        <li>Install axios: npm install axios</li>
                        <li>Fetch posts from Django API on component mount</li>
                        <li>Display loading state while fetching</li>
                        <li>Show error message if fetch fails</li>
                        <li>Create form to add new post (POST request)</li>
                        <li>Implement delete button (DELETE request)</li>
                        <li>Add CORS to Django: pip install django-cors-headers</li>
                    </ol>
                    <h3>API Endpoints:</h3>
                    <ul>
                        <li>GET http://localhost:8000/api/posts/</li>
                        <li>POST http://localhost:8000/api/posts/</li>
                        <li>DELETE http://localhost:8000/api/posts/:id/</li>
                    </ul>
                </div>
            </section>

            <section data-slide-title="Introduction to Redux">
                <h2>Introduction to Redux</h2>
                <div class="highlight">
                    <strong>Redux:</strong> Predictable state container for JavaScript apps
                </div>
                <h3>Core Concepts:</h3>
                <ul>
                    <li><strong>Store:</strong> Single source of truth for app state</li>
                    <li><strong>Actions:</strong> Plain objects describing what happened</li>
                    <li><strong>Reducers:</strong> Pure functions that update state</li>
                    <li><strong>Dispatch:</strong> Send actions to store</li>
                </ul>
                <h3>When to Use:</h3>
                <ul>
                    <li>Large app with complex state</li>
                    <li>State shared across many components</li>
                    <li>Frequent state updates</li>
                    <li>Need for time-travel debugging</li>
                </ul>
            </section>

            <section data-slide-title="Redux Example">
                <h2>Redux Example</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">// Action
const increment = () =&gt; ({ type: 'INCREMENT' });
// Reducer
const counterReducer = (state = { count: 0 }, action) =&gt; {
switch (action.type) {
case 'INCREMENT':
return { count: state.count + 1 };
case 'DECREMENT':
return { count: state.count - 1 };
default:
return state;
}
};
// Create store
import { createStore } from 'redux';
const store = createStore(counterReducer);
// Dispatch action
store.dispatch(increment());</code></pre>
                </div>
            </section>

            <section data-slide-title="React Hooks vs Redux">
                <h2>React Hooks vs Redux</h2>
                <h3>useState/useContext (React):</h3>
                <ul>
                    <li>‚úÖ Built into React</li>
                    <li>‚úÖ Simple for small/medium apps</li>
                    <li>‚úÖ Less boilerplate</li>
                    <li>‚ùå Can become complex with deep nesting</li>
                </ul>
                <h3>Redux:</h3>
                <ul>
                    <li>‚úÖ Centralized state management</li>
                    <li>‚úÖ Time-travel debugging</li>
                    <li>‚úÖ Middleware support</li>
                    <li>‚ùå More boilerplate</li>
                    <li>‚ùå Learning curve</li>
                </ul>
                <div class="highlight">
                    <strong>Recommendation:</strong> Start with hooks, add Redux if needed
                </div>
            </section>

            <section data-slide-title="Best Practices">
                <h2>Best Practices</h2>
                <ul>
                    <li><strong>Component Structure:</strong> Keep components small and focused</li>
                    <li><strong>Props vs State:</strong> Use props for data passed down, state for local data</li>
                    <li><strong>Immutability:</strong> Never mutate state directly</li>
                    <li><strong>Keys:</strong> Always provide unique keys in lists</li>
                    <li><strong>useEffect cleanup:</strong> Clear timers/subscriptions</li>
                    <li><strong>Conditional rendering:</strong> Use &&, ternary, or early returns</li>
                    <li><strong>Code splitting:</strong> Use React.lazy() for large apps</li>
                    <li><strong>PropTypes:</strong> Validate props (or use TypeScript)</li>
                </ul>
            </section>

            <section data-slide-title="Next Session: Web App Critique">
                <h2>Next Session: Web App Critique</h2>
                <ul>
                    <li>Evaluating usability and UX</li>
                    <li>Performance analysis</li>
                    <li>Accessibility evaluation (WCAG)</li>
                    <li>Standards compliance</li>
                    <li>Security considerations</li>
                    <li>Ethical considerations in web development</li>
                </ul>
                <p><strong>Preparation:</strong> Find 2-3 web applications to analyze</p>
            </section>

            <section data-slide-title="Questions & Discussion" class="center">
                <h2>Questions & Discussion</h2>
                <p><strong>Contact:</strong> JWilliams@Staff.newman.ac.uk</p>
                <p><strong>Office Hours:</strong> By appointment</p>
                <p><strong>Resources:</strong> React Documentation, React Tutorial</p>
                <p>Thank you for your attention!</p>
            </section>

        </div>
    </div>

    <script src="../../libs/reveal.js/dist/reveal.js"></script>
    <script src="../../libs/reveal.js/plugin/notes/notes.js"></script>
    <script src="../../libs/reveal.js/plugin/markdown/markdown.js"></script>
    <script src="../../libs/reveal.js/plugin/highlight/highlight.js"></script>

    <script>
        // Prevent wheel events from changing slides when scrolling
        Reveal.on('ready', () => {
            const scrollableElements = document.querySelectorAll('.reveal pre, .reveal .code-example, .reveal .task-box, .reveal .info-box, .reveal .warning-box');
            
            scrollableElements.forEach(element => {
                element.addEventListener('wheel', (e) => {
                    const atTop = element.scrollTop === 0;
                    const atBottom = element.scrollHeight - element.scrollTop === element.clientHeight;
                    
                    if ((e.deltaY < 0 && !atTop) || (e.deltaY > 0 && !atBottom)) {
                        e.stopPropagation();
                    }
                });
            });
        });

        Reveal.initialize({
            hash: true,
            slideNumber: true,
            transition: 'none',
            backgroundTransition: 'none',
            center: false,
            disableLayout: true,
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });
    </script>
</body>

</html>
