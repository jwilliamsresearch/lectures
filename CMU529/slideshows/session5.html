<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session 5: PHP Forms & Data Processing</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/dist/theme/white.css">
    <style>
        .reveal .slides section {
            text-align: left;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            max-height: 100vh;
        }
        .reveal .slides section.center { text-align: center; }
        .reveal .slides section h1 { font-size: 2.5em; margin-bottom: 0.5em; }
        .reveal .slides section h2 { font-size: 2em; margin-bottom: 0.5em; }
        .reveal .slides section h3 { font-size: 1.5em; margin-bottom: 0.5em; }
        .reveal .slides section p { font-size: 1.1em; line-height: 1.4; margin-bottom: 0.8em; }
        .reveal .slides section ul, .reveal .slides section ol { font-size: 1em; line-height: 1.4; margin-bottom: 0.8em; }
        .reveal .slides section li { margin-bottom: 0.3em; }
        .task-box {
            background: #fff5f5;
            border: 2px solid #ff6b6b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            max-height: 60vh;
            overflow-y: auto;
        }
        .code-example {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            font-size: 0.9em;
            line-height: 1.3;
            max-height: 40vh;
            overflow-y: auto;
        }
        .highlight {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
            margin: 10px 0;
        }
        .timeline-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            font-size: 0.9em;
        }
        .timeline-info ul { margin: 10px 0; padding-left: 20px; }
        .timeline-info li { margin-bottom: 0.2em; }
        .diagram {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        @media (max-width: 768px) {
            .reveal .slides section { padding: 15px; }
            .reveal .slides section h1 { font-size: 2em; }
            .reveal .slides section h2 { font-size: 1.6em; }
            .reveal .slides section h3 { font-size: 1.3em; }
            .task-box, .code-example { font-size: 0.9em; padding: 15px; }
        }
        
        /* Custom scrollbar styling */
        .reveal .slides section::-webkit-scrollbar,
        .task-box::-webkit-scrollbar,
        .code-example::-webkit-scrollbar {
            width: 8px;
        }
        
        .reveal .slides section::-webkit-scrollbar-track,
        .task-box::-webkit-scrollbar-track,
        .code-example::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .reveal .slides section::-webkit-scrollbar-thumb,
        .task-box::-webkit-scrollbar-thumb,
        .code-example::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        .reveal .slides section::-webkit-scrollbar-thumb:hover,
        .task-box::-webkit-scrollbar-thumb:hover,
        .code-example::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>
    <div style="position: fixed; top: 20px; left: 20px; z-index: 1000;">
        <a href="../index.html" style="
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
            display: inline-block;
        " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(255, 107, 107, 0.4)'" 
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(255, 107, 107, 0.3)'">
            ← Back to Module
        </a>
    </div>
    <div class="reveal">
        <div class="slides">
            <!-- Slide 1: Title -->
            <section class="center">
                <h1>PHP Forms & Data Processing</h1>
                <h3>CMU529: Advanced Web Development - Session 5</h3>
                <p><strong>Birmingham Newman University</strong></p>
                <p><em>Lecturer: James Williams</em></p>
                <p>Advanced form handling and validation techniques</p>
                <p><small>3-hour session • 27 slides • 2 interactive tasks</small></p>
                <div class="timeline-info">
                    <p><strong>Session Timeline:</strong></p>
                    <ul>
                        <li>10 min: Registration & waiting</li>
                        <li>20 min: Opening slides</li>
                        <li>45 min: Task 1</li>
                        <li>15 min: Break/Catch up</li>
                        <li>20 min: Secondary slides</li>
                        <li>45 min: Task 2</li>
                        <li>Remaining: Self-study</li>
                    </ul>
                </div>
            </section>

            <!-- Slide 2: Learning Objectives -->
            <section>
                <h2>Learning Objectives</h2>
                <ul>
                    <li>Master advanced form handling techniques</li>
                    <li>Implement comprehensive input validation</li>
                    <li>Create secure form processing systems</li>
                    <li>Handle file uploads safely</li>
                    <li>Build user registration and login systems</li>
                    <li>Implement form security best practices</li>
                </ul>
            </section>

            <!-- Slide 3: Form Processing Overview -->
            <section>
                <h2>Form Processing Overview</h2>
                <div class="diagram">
                    <h4>Form Processing Flow</h4>
                    <p><strong>1.</strong> User submits form</p>
                    <p><strong>2.</strong> Browser sends data to server</p>
                    <p><strong>3.</strong> PHP receives data via $_POST/$_GET</p>
                    <p><strong>4.</strong> Validate and sanitize input</p>
                    <p><strong>5.</strong> Process data (database, email, etc.)</p>
                    <p><strong>6.</strong> Send response back to user</p>
                </div>
                <ul>
                    <li>Forms are the primary way users interact with web applications</li>
                    <li>Proper validation prevents security vulnerabilities</li>
                    <li>User-friendly error messages improve experience</li>
                    <li>CSRF protection prevents unauthorized form submissions</li>
                </ul>
            </section>

            <!-- Slide 4: HTML Form Structure -->
            <section>
                <h2>HTML Form Structure</h2>
                <div class="code-example">
                    Complete Form Example:<br><br>
                    
                    &lt;form method="POST" action="process.php" enctype="multipart/form-data"&gt;<br>
                    &nbsp;&nbsp;&lt;div class="form-group"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;label for="username"&gt;Username:&lt;/label&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="text" name="username" id="username" required&gt;<br>
                    &nbsp;&nbsp;&lt;/div&gt;<br><br>
                    
                    &nbsp;&nbsp;&lt;div class="form-group"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;label for="email"&gt;Email:&lt;/label&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="email" name="email" id="email" required&gt;<br>
                    &nbsp;&nbsp;&lt;/div&gt;<br><br>
                    
                    &nbsp;&nbsp;&lt;div class="form-group"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;label for="password"&gt;Password:&lt;/label&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="password" name="password" id="password" required&gt;<br>
                    &nbsp;&nbsp;&lt;/div&gt;<br><br>
                    
                    &nbsp;&nbsp;&lt;div class="form-group"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;label for="avatar"&gt;Profile Picture:&lt;/label&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="file" name="avatar" id="avatar" accept="image/*"&gt;<br>
                    &nbsp;&nbsp;&lt;/div&gt;<br><br>
                    
                    &nbsp;&nbsp;&lt;button type="submit"&gt;Register&lt;/button&gt;<br>
                    &lt;/form&gt;
                </div>
            </section>

            <!-- Slide 5: Basic Form Processing -->
            <section>
                <h2>Basic Form Processing</h2>
                <div class="code-example">
                    Basic Processing (process.php):<br><br>
                    
                    &lt;?php<br>
                    // Check if form was submitted<br>
                    if ($_SERVER["REQUEST_METHOD"] == "POST") {<br><br>
                    
                    &nbsp;&nbsp;// Get form data<br>
                    &nbsp;&nbsp;$username = $_POST["username"];<br>
                    &nbsp;&nbsp;$email = $_POST["email"];<br>
                    &nbsp;&nbsp;$password = $_POST["password"];<br><br>
                    
                    &nbsp;&nbsp;// Basic validation<br>
                    &nbsp;&nbsp;if (empty($username) || empty($email) || empty($password)) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$error = "All fields are required";<br>
                    &nbsp;&nbsp;} else {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;// Process the data<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;echo "Username: " . htmlspecialchars($username) . "&lt;br&gt;";<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;echo "Email: " . htmlspecialchars($email) . "&lt;br&gt;";<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;echo "Registration successful!";<br>
                    &nbsp;&nbsp;}<br>
                    }<br>
                    ?&gt;
                </div>
            </section>

            <!-- Slide 6: Input Validation Functions -->
            <section>
                <h2>Input Validation Functions</h2>
                <div class="code-example">
                    Validation Functions:<br><br>
                    
                    function validateEmail($email) {<br>
                    &nbsp;&nbsp;return filter_var($email, FILTER_VALIDATE_EMAIL);<br>
                    }<br><br>
                    
                    function validateUsername($username) {<br>
                    &nbsp;&nbsp;// Username: 3-20 characters, alphanumeric and underscore<br>
                    &nbsp;&nbsp;return preg_match("/^[a-zA-Z0-9_]{3,20}$/", $username);<br>
                    }<br><br>
                    
                    function validatePassword($password) {<br>
                    &nbsp;&nbsp;// Password: minimum 8 characters, at least one letter and number<br>
                    &nbsp;&nbsp;return strlen($password) >= 8 &&<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preg_match("/[a-zA-Z]/", $password) &&<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;preg_match("/[0-9]/", $password);<br>
                    }<br><br>
                    
                    function sanitizeInput($input) {<br>
                    &nbsp;&nbsp;return htmlspecialchars(trim($input), ENT_QUOTES, 'UTF-8');<br>
                    }
                </div>
            </section>

            <!-- Slide 7: Advanced Form Validation -->
            <section>
                <h2>Advanced Form Validation</h2>
                <div class="code-example">
                    Comprehensive Validation:<br><br>
                    
                    function validateRegistration($data) {<br>
                    &nbsp;&nbsp;$errors = [];<br><br>
                    
                    &nbsp;&nbsp;// Username validation<br>
                    &nbsp;&nbsp;if (empty($data["username"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors["username"] = "Username is required";<br>
                    &nbsp;&nbsp;} elseif (!validateUsername($data["username"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors["username"] = "Username must be 3-20 characters";<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Email validation<br>
                    &nbsp;&nbsp;if (empty($data["email"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors["email"] = "Email is required";<br>
                    &nbsp;&nbsp;} elseif (!validateEmail($data["email"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors["email"] = "Invalid email format";<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Password validation<br>
                    &nbsp;&nbsp;if (empty($data["password"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors["password"] = "Password is required";<br>
                    &nbsp;&nbsp;} elseif (!validatePassword($data["password"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors["password"] = "Password must be at least 8 characters";<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;return $errors;<br>
                    }
                </div>
            </section>

            <!-- Slide 8: File Upload Handling -->
            <section>
                <h2>File Upload Handling</h2>
                <div class="code-example">
                    File Upload Processing:<br><br>
                    
                    function handleFileUpload($file) {<br>
                    &nbsp;&nbsp;$errors = [];<br>
                    &nbsp;&nbsp;$uploadDir = "uploads/";<br><br>
                    
                    &nbsp;&nbsp;// Check if file was uploaded<br>
                    &nbsp;&nbsp;if ($file["error"] !== UPLOAD_ERR_OK) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors[] = "File upload failed";<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return $errors;<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Validate file type<br>
                    &nbsp;&nbsp;$allowedTypes = ["image/jpeg", "image/png", "image/gif"];<br>
                    &nbsp;&nbsp;if (!in_array($file["type"], $allowedTypes)) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors[] = "Invalid file type";<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Validate file size (5MB max)<br>
                    &nbsp;&nbsp;if ($file["size"] > 5 * 1024 * 1024) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors[] = "File too large (max 5MB)";<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Generate unique filename<br>
                    &nbsp;&nbsp;$extension = pathinfo($file["name"], PATHINFO_EXTENSION);<br>
                    &nbsp;&nbsp;$filename = uniqid() . "." . $extension;<br>
                    &nbsp;&nbsp;$filepath = $uploadDir . $filename;<br><br>
                    
                    &nbsp;&nbsp;// Move uploaded file<br>
                    &nbsp;&nbsp;if (!move_uploaded_file($file["tmp_name"], $filepath)) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$errors[] = "Failed to save file";<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;return $errors;<br>
                    }
                </div>
            </section>

            <!-- Slide 9: CSRF Protection -->
            <section>
                <h2>CSRF Protection</h2>
                <div class="code-example">
                    CSRF Token Implementation:<br><br>
                    
                    // Generate CSRF token<br>
                    function generateCSRFToken() {<br>
                    &nbsp;&nbsp;if (empty($_SESSION["csrf_token"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$_SESSION["csrf_token"] = bin2hex(random_bytes(32));<br>
                    &nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;return $_SESSION["csrf_token"];<br>
                    }<br><br>
                    
                    // Verify CSRF token<br>
                    function verifyCSRFToken($token) {<br>
                    &nbsp;&nbsp;return isset($_SESSION["csrf_token"]) &&<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash_equals($_SESSION["csrf_token"], $token);<br>
                    }<br><br>
                    
                    // Add token to form<br>
                    &lt;form method="POST" action="process.php"&gt;<br>
                    &nbsp;&nbsp;&lt;input type="hidden" name="csrf_token" value="&lt;?php echo generateCSRFToken(); ?&gt;"&gt;<br>
                    &nbsp;&nbsp;&lt;!-- form fields --&gt;<br>
                    &lt;/form&gt;<br><br>
                    
                    // Verify in processing<br>
                    if (!verifyCSRFToken($_POST["csrf_token"])) {<br>
                    &nbsp;&nbsp;die("CSRF token validation failed");<br>
                    }
                </div>
            </section>

            <!-- Slide 10: User Registration System -->
            <section>
                <h2>User Registration System</h2>
                <div class="code-example">
                    Registration Processing:<br><br>
                    
                    function registerUser($data) {<br>
                    &nbsp;&nbsp;// Validate input<br>
                    &nbsp;&nbsp;$errors = validateRegistration($data);<br>
                    &nbsp;&nbsp;if (!empty($errors)) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return ["success" => false, "errors" => $errors];<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Check if user already exists<br>
                    &nbsp;&nbsp;if (userExists($data["email"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return ["success" => false, "errors" => ["email" => "Email already registered"]];<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Hash password<br>
                    &nbsp;&nbsp;$hashedPassword = password_hash($data["password"], PASSWORD_DEFAULT);<br><br>
                    
                    &nbsp;&nbsp;// Create user<br>
                    &nbsp;&nbsp;$userId = createUser([<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"username" => $data["username"],<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"email" => $data["email"],<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"password" => $hashedPassword<br>
                    &nbsp;&nbsp;]);<br><br>
                    
                    &nbsp;&nbsp;return ["success" => true, "user_id" => $userId];<br>
                    }
                </div>
            </section>

            <!-- Slide 11: User Login System -->
            <section>
                <h2>User Login System</h2>
                <div class="code-example">
                    Login Processing:<br><br>
                    
                    function loginUser($email, $password) {<br>
                    &nbsp;&nbsp;// Validate input<br>
                    &nbsp;&nbsp;if (empty($email) || empty($password)) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return ["success" => false, "error" => "Email and password required"];<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Get user from database<br>
                    &nbsp;&nbsp;$user = getUserByEmail($email);<br>
                    &nbsp;&nbsp;if (!$user) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return ["success" => false, "error" => "Invalid credentials"];<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Verify password<br>
                    &nbsp;&nbsp;if (!password_verify($password, $user["password"])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return ["success" => false, "error" => "Invalid credentials"];<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Start session and store user data<br>
                    &nbsp;&nbsp;session_start();<br>
                    &nbsp;&nbsp;$_SESSION["user_id"] = $user["id"];<br>
                    &nbsp;&nbsp;$_SESSION["username"] = $user["username"];<br>
                    &nbsp;&nbsp;$_SESSION["logged_in"] = true;<br><br>
                    
                    &nbsp;&nbsp;return ["success" => true, "user" => $user];<br>
                    }
                </div>
            </section>

            <!-- Slide 12: Form Error Handling -->
            <section>
                <h2>Form Error Handling</h2>
                <div class="code-example">
                    Error Display System:<br><br>
                    
                    // Display errors function<br>
                    function displayErrors($errors, $field) {<br>
                    &nbsp;&nbsp;if (isset($errors[$field])) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return "&lt;span class='error'&gt;" . htmlspecialchars($errors[$field]) . "&lt;/span&gt;";<br>
                    &nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;return "";<br>
                    }<br><br>
                    
                    // Form with error display<br>
                    &lt;form method="POST" action="register.php"&gt;<br>
                    &nbsp;&nbsp;&lt;div class="form-group"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;label for="username"&gt;Username:&lt;/label&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="text" name="username" id="username"<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value="&lt;?php echo isset($_POST['username']) ? htmlspecialchars($_POST['username']) : ''; ?&gt;"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;?php echo displayErrors($errors, 'username'); ?&gt;<br>
                    &nbsp;&nbsp;&lt;/div&gt;<br><br>
                    
                    &nbsp;&nbsp;&lt;div class="form-group"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;label for="email"&gt;Email:&lt;/label&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="email" name="email" id="email"<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value="&lt;?php echo isset($_POST['email']) ? htmlspecialchars($_POST['email']) : ''; ?&gt;"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;?php echo displayErrors($errors, 'email'); ?&gt;<br>
                    &nbsp;&nbsp;&lt;/div&gt;<br>
                    &lt;/form&gt;
                </div>
            </section>

            <!-- Slide 13: E-commerce Form Examples -->
            <section>
                <h2>E-commerce Form Examples</h2>
                <div class="code-example">
                    Product Search Form:<br><br>
                    
                    &lt;form method="GET" action="search.php"&gt;<br>
                    &nbsp;&nbsp;&lt;input type="text" name="q" placeholder="Search products..."<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;value="&lt;?php echo isset($_GET['q']) ? htmlspecialchars($_GET['q']) : ''; ?&gt;"&gt;<br>
                    &nbsp;&nbsp;&lt;select name="category"&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;option value=""&gt;All Categories&lt;/option&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;option value="electronics"&gt;Electronics&lt;/option&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;option value="clothing"&gt;Clothing&lt;/option&gt;<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&lt;option value="books"&gt;Books&lt;/option&gt;<br>
                    &nbsp;&nbsp;&lt;/select&gt;<br>
                    &nbsp;&nbsp;&lt;button type="submit"&gt;Search&lt;/button&gt;<br>
                    &lt;/form&gt;<br><br>
                    
                    Contact Form:<br><br>
                    
                    &lt;form method="POST" action="contact.php"&gt;<br>
                    &nbsp;&nbsp;&lt;input type="text" name="name" placeholder="Your Name" required&gt;<br>
                    &nbsp;&nbsp;&lt;input type="email" name="email" placeholder="Your Email" required&gt;<br>
                    &nbsp;&nbsp;&lt;textarea name="message" placeholder="Your Message" required&gt;&lt;/textarea&gt;<br>
                    &nbsp;&nbsp;&lt;button type="submit"&gt;Send Message&lt;/button&gt;<br>
                    &lt;/form&gt;
                </div>
            </section>

            <!-- Slide 14: TASK 1 - Halfway Point -->
            <section class="center">
                <h2>Task 1: Advanced Form Processing</h2>
                <div class="task-box">
                    <h3>Instructions:</h3>
                    <ol>
                        <li>Create a comprehensive registration system with:</li>
                        <ul>
                            <li>User registration form with validation</li>
                            <li>File upload for profile pictures</li>
                            <li>CSRF protection implementation</li>
                            <li>Password strength validation</li>
                            <li>Email format validation</li>
                            <li>Error handling and display</li>
                        </ul>
                        <li>Implement login functionality</li>
                        <li>Add session management</li>
                        <li>Create password reset functionality</li>
                        <li>Test all security measures</li>
                    </ol>
                    <p><strong>Time:</strong> 45 minutes</p>
                    <p><em>This task will help you master advanced form processing techniques</em></p>
                </div>
            </section>

            <!-- Slide 15: Break/Catch Up -->
            <section class="center">
                <h2>Break Time</h2>
                <div class="highlight">
                    <h3>15 Minutes</h3>
                    <p>Take a break, ask questions, or catch up on the previous task.</p>
                    <p><em>Next: Secondary slides and Task 2</em></p>
                </div>
            </section>

            <!-- Slide 16: Form Security Best Practices -->
            <section>
                <h2>Form Security Best Practices</h2>
                <ul>
                    <li><strong>Input Validation:</strong> Validate all inputs on server-side</li>
                    <li><strong>Output Escaping:</strong> Escape all output with htmlspecialchars()</li>
                    <li><strong>CSRF Protection:</strong> Use tokens for all forms</li>
                    <li><strong>Password Hashing:</strong> Never store plain text passwords</li>
                    <li><strong>File Upload Security:</strong> Validate file types and sizes</li>
                    <li><strong>Rate Limiting:</strong> Prevent form spam and attacks</li>
                </ul>
                <div class="code-example">
                    Security Checklist:<br><br>
                    
                    ✓ Validate all input data<br>
                    ✓ Escape all output data<br>
                    ✓ Use CSRF tokens<br>
                    ✓ Hash passwords with password_hash()<br>
                    ✓ Validate file uploads<br>
                    ✓ Use HTTPS in production<br>
                    ✓ Implement rate limiting<br>
                    ✓ Log security events<br>
                    ✓ Keep PHP and dependencies updated
                </div>
            </section>

            <!-- Slide 17: AJAX Form Submission -->
            <section>
                <h2>AJAX Form Submission</h2>
                <div class="code-example">
                    JavaScript AJAX Example:<br><br>
                    
                    document.getElementById('registerForm').addEventListener('submit', function(e) {<br>
                    &nbsp;&nbsp;e.preventDefault();<br><br>
                    
                    &nbsp;&nbsp;const formData = new FormData(this);<br><br>
                    
                    &nbsp;&nbsp;fetch('register.php', {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;method: 'POST',<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;body: formData<br>
                    &nbsp;&nbsp;})<br>
                    &nbsp;&nbsp;.then(response => response.json())<br>
                    &nbsp;&nbsp;.then(data => {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;if (data.success) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert('Registration successful!');<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;} else {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayErrors(data.errors);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                    &nbsp;&nbsp;})<br>
                    &nbsp;&nbsp;.catch(error => {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;console.error('Error:', error);<br>
                    &nbsp;&nbsp;});<br>
                    });<br><br>
                    
                    PHP Response (register.php):<br><br>
                    
                    header('Content-Type: application/json');<br>
                    echo json_encode($result);
                </div>
            </section>

            <!-- Slide 18: Form Validation with JavaScript -->
            <section>
                <h2>Form Validation with JavaScript</h2>
                <div class="code-example">
                    Client-side Validation:<br><br>
                    
                    function validateForm() {<br>
                    &nbsp;&nbsp;let isValid = true;<br>
                    &nbsp;&nbsp;const errors = {};<br><br>
                    
                    &nbsp;&nbsp;// Username validation<br>
                    &nbsp;&nbsp;const username = document.getElementById('username').value;<br>
                    &nbsp;&nbsp;if (username.length < 3 || username.length > 20) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;errors.username = 'Username must be 3-20 characters';<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;isValid = false;<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Email validation<br>
                    &nbsp;&nbsp;const email = document.getElementById('email').value;<br>
                    &nbsp;&nbsp;const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;<br>
                    &nbsp;&nbsp;if (!emailRegex.test(email)) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;errors.email = 'Invalid email format';<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;isValid = false;<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;// Password validation<br>
                    &nbsp;&nbsp;const password = document.getElementById('password').value;<br>
                    &nbsp;&nbsp;if (password.length < 8) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;errors.password = 'Password must be at least 8 characters';<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;isValid = false;<br>
                    &nbsp;&nbsp;}<br><br>
                    
                    &nbsp;&nbsp;return { isValid, errors };<br>
                    }
                </div>
            </section>

            <!-- Slide 19: Database Integration -->
            <section>
                <h2>Database Integration</h2>
                <div class="code-example">
                    Database Functions:<br><br>
                    
                    function createUser($userData) {<br>
                    &nbsp;&nbsp;global $pdo;<br><br>
                    
                    &nbsp;&nbsp;$sql = "INSERT INTO users (username, email, password, created_at) VALUES (?, ?, ?, NOW())";<br>
                    &nbsp;&nbsp;$stmt = $pdo->prepare($sql);<br><br>
                    
                    &nbsp;&nbsp;try {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$stmt->execute([<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$userData['username'],<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$userData['email'],<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$userData['password']<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;]);<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return $pdo->lastInsertId();<br>
                    &nbsp;&nbsp;} catch (PDOException $e) {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;error_log("Database error: " . $e->getMessage());<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;return false;<br>
                    &nbsp;&nbsp;}<br>
                    }<br><br>
                    
                    function getUserByEmail($email) {<br>
                    &nbsp;&nbsp;global $pdo;<br><br>
                    &nbsp;&nbsp;$sql = "SELECT * FROM users WHERE email = ?";<br>
                    &nbsp;&nbsp;$stmt = $pdo->prepare($sql);<br>
                    &nbsp;&nbsp;$stmt->execute([$email]);<br><br>
                    &nbsp;&nbsp;return $stmt->fetch(PDO::FETCH_ASSOC);<br>
                    }
                </div>
            </section>

            <!-- Slide 20: Email Integration -->
            <section>
                <h2>Email Integration</h2>
                <div class="code-example">
                    Email Functions:<br><br>
                    
                    function sendWelcomeEmail($email, $username) {<br>
                    &nbsp;&nbsp;$to = $email;<br>
                    &nbsp;&nbsp;$subject = "Welcome to Our E-commerce Site";<br>
                    &nbsp;&nbsp;$message = "Hello $username,\n\nWelcome to our store!";<br>
                    &nbsp;&nbsp;$headers = "From: noreply@example.com";<br><br>
                    
                    &nbsp;&nbsp;return mail($to, $subject, $message, $headers);<br>
                    }<br><br>
                    
                    function sendPasswordReset($email, $token) {<br>
                    &nbsp;&nbsp;$resetLink = "https://example.com/reset.php?token=" . $token;<br>
                    &nbsp;&nbsp;$to = $email;<br>
                    &nbsp;&nbsp;$subject = "Password Reset Request";<br>
                    &nbsp;&nbsp;$message = "Click the following link to reset your password:\n$resetLink";<br>
                    &nbsp;&nbsp;$headers = "From: noreply@example.com";<br><br>
                    
                    &nbsp;&nbsp;return mail($to, $subject, $message, $headers);<br>
                    }<br><br>
                    
                    function sendOrderConfirmation($email, $orderDetails) {<br>
                    &nbsp;&nbsp;$to = $email;<br>
                    &nbsp;&nbsp;$subject = "Order Confirmation";<br>
                    &nbsp;&nbsp;$message = "Thank you for your order!\n\nOrder ID: " . $orderDetails['id'];<br>
                    &nbsp;&nbsp;$headers = "From: orders@example.com";<br><br>
                    
                    &nbsp;&nbsp;return mail($to, $subject, $message, $headers);<br>
                    }
                </div>
            </section>

            <!-- Slide 21: Form Analytics and Tracking -->
            <section>
                <h2>Form Analytics and Tracking</h2>
                <ul>
                    <li><strong>Conversion Tracking:</strong> Monitor form completion rates</li>
                    <li><strong>Error Tracking:</strong> Log validation errors for improvement</li>
                    <li><strong>User Behavior:</strong> Track form abandonment points</li>
                    <li><strong>Performance Monitoring:</strong> Monitor form submission times</li>
                    <li><strong>A/B Testing:</strong> Test different form layouts</li>
                </ul>
                <div class="code-example">
                    Analytics Implementation:<br><br>
                    
                    function logFormSubmission($formType, $success, $errors = []) {<br>
                    &nbsp;&nbsp;$logData = [<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;'timestamp' => date('Y-m-d H:i:s'),<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;'form_type' => $formType,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;'success' => $success,<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;'errors' => json_encode($errors),<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;'ip_address' => $_SERVER['REMOTE_ADDR'],<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;'user_agent' => $_SERVER['HTTP_USER_AGENT']<br>
                    &nbsp;&nbsp;];<br><br>
                    
                    &nbsp;&nbsp;// Log to database or file<br>
                    &nbsp;&nbsp;logToDatabase('form_submissions', $logData);<br>
                    }
                </div>
            </section>

            <!-- Slide 22: TASK 2 - Final Task -->
            <section class="center">
                <h2>Task 2: Complete E-commerce Form System</h2>
                <div class="task-box">
                    <h3>Instructions:</h3>
                    <ol>
                        <li>Build a complete e-commerce form system with:</li>
                        <ul>
                            <li>User registration and login forms</li>
                            <li>Product search and filtering forms</li>
                            <li>Contact and support forms</li>
                            <li>Shopping cart and checkout forms</li>
                            <li>Product review and rating forms</li>
                        </ul>
                        <li>Implement comprehensive validation</li>
                        <li>Add AJAX form submission</li>
                        <li>Include email notifications</li>
                        <li>Add form analytics tracking</li>
                        <li>Ensure all security measures are in place</li>
                    </ol>
                    <p><strong>Time:</strong> 45 minutes</p>
                    <p><em>This task will help you build a complete e-commerce form processing system</em></p>
                </div>
            </section>

            <!-- Slide 23: Summary -->
            <section class="center">
                <h2>Session Summary</h2>
                <ul>
                    <li>Advanced form processing requires comprehensive validation</li>
                    <li>Security measures are essential for all forms</li>
                    <li>File uploads require careful validation and handling</li>
                    <li>CSRF protection prevents unauthorized form submissions</li>
                    <li>AJAX enhances user experience for form submissions</li>
                    <li>Database integration enables persistent data storage</li>
                    <li>Email integration provides user communication</li>
                    <li>Analytics help improve form performance</li>
                </ul>
                <div class="highlight">
                    <h3>Next Session:</h3>
                    <p>MySQL Database Design - Database fundamentals and e-commerce schema</p>
                </div>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.3.1/dist/reveal.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            transition: 'slide',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            controls: true,
            progress: true,
            center: false,
            touch: true,
            loop: false,
            rtl: false,
            navigationMode: 'default',
            shuffle: false,
            fragments: true,
            fragmentInURL: false,
            embedded: false,
            help: true,
            showNotes: false,
            autoPlayMedia: null,
            preloadIframes: null,
            autoSlide: 0,
            autoSlideStoppable: true,
            autoSlideMethod: Reveal.navigateNext,
            defaultTiming: null,
            mouseWheel: false,
            hideInactiveCursor: true,
            hideCursorTime: 5000,
            previewLinks: false,
            postMessage: true,
            postMessageEvents: false,
            focusBodyOnPageVisibilityChange: true,
            viewDistance: 3,
            mobileViewDistance: 2,
            display: 'block',
            hideEmptyElements: true,
            width: '100%',
            height: '100%',
            margin: 0.04,
            minScale: 0.2,
            maxScale: 2.0,
            fitToParent: true,
            responsive: true,
            scrollBeyondOnePage: true
        });
    </script>
</body>
</html>
