<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session 8: JavaScript Advanced Concepts</title>
    <link rel="stylesheet" href="../../libs/reveal.js/dist/reset.css">
    <link rel="stylesheet" href="../../libs/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="../../placeholder/academic-theme.css">
    
    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="../../libs/reveal.js/plugin/highlight/monokai.css">
    <style>
        /* Preserve existing custom component styles */

        

        /* Task box styling */
        .task-box {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            max-height: 60vh;
            overflow-y: auto;
        }

        /* Code example styling */
        .code-example {
            margin: 10px 0;
            max-width: 100%;
            overflow: visible;
        }

        .code-example pre {
            margin: 0;
        }

        /* Highlight styling */
        .highlight {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
            margin: 10px 0;
        }

        /* Timeline info styling */
        .timeline-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            font-size: 0.9em;
        }

        .timeline-info ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .timeline-info li {
            margin-bottom: 0.2em;
        }

        /* Center content for title slides */
        .reveal .slides section.center {
            text-align: center;
            justify-content: center;
            align-items: center;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .reveal .slides section {
                padding: 15px;
            }

            .reveal .slides section h1 {
                font-size: 2em;
            }

            .reveal .slides section h2 {
                font-size: 1.6em;
            }

            .reveal .slides section h3 {
                font-size: 1.3em;
            }

            .task-box,
            .code-example {
                font-size: 0.9em;
                padding: 15px;
            }
        }

        /* Custom scrollbar for better UX */
        .reveal .slides section::-webkit-scrollbar,
        .task-box::-webkit-scrollbar,
        .code-example::-webkit-scrollbar {
            width: 8px;
        }

        .reveal .slides section::-webkit-scrollbar-track,
        .task-box::-webkit-scrollbar-track,
        .code-example::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .reveal .slides section::-webkit-scrollbar-thumb,
        .task-box::-webkit-scrollbar-thumb,
        .code-example::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        .reveal .slides section::-webkit-scrollbar-thumb:hover,
        .task-box::-webkit-scrollbar-thumb:hover,
        .code-example::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Interactive Demo Styling */
        .interactive-demo {
            background: #f8f9fa;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .interactive-demo h3 {
            color: #2196f3;
            margin-bottom: 15px;
        }

        .demo-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .js-concepts-demo {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .concept-tabs {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .concept-tab {
            padding: 10px 20px;
            border: 2px solid #2196f3;
            background: white;
            color: #2196f3;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .concept-tab.active {
            background: #2196f3;
            color: white;
        }

        .concept-content {
            min-height: 200px;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background: #f9f9f9;
            margin: 20px 0;
        }

        .concept-demo {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .demo-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .demo-button {
            padding: 10px 15px;
            background-color: #2196f3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .demo-button:hover {
            background-color: #1976d2;
        }

        .demo-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            min-height: 100px;
            width: 100%;
            max-width: 500px;
            overflow-y: auto;
            text-align: left;
        }

        .demo-output .log-entry {
            margin: 5px 0;
            padding: 2px 0;
        }

        .demo-output .log-entry.info {
            color: #63b3ed;
        }

        .demo-output .log-entry.success {
            color: #68d391;
        }

        .demo-output .log-entry.error {
            color: #fc8181;
        }

        .demo-output .log-entry.warning {
            color: #f6e05e;
        }

        .concept-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 5px;
            padding: 15px;
            margin-top: 20px;
            text-align: left;
        }

        .concept-info h4 {
            margin: 0 0 10px 0;
            color: #1976d2;
        }

        .concept-info code {
            background: #f5f5f5;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>

<body>
        <div class="slide-nav">
        <a href="../../index.html" title="Home">H</a>
        <a href="../index.html" title="Module Home">M</a>
        <a href="session7.html" title="Previous Session">&lt;</a>
        <a href="session9.html" title="Next Session">&gt;</a>
    </div>
    
    <div class="reveal">
        <div class="slides">
            <!-- Slide 1: Title -->
            <section class="title-slide">
                <div class="module-code">CMU422: Web Design - Session 8</div>
                <h1>JavaScript Advanced Concepts</h1>
                <h2>Professional Web Design and Development</h2>
                <div class="author">
                    <p><strong>James Williams</strong></p>
                    <p>Birmingham Newman University</p>
                    <p class="text-muted">jwilliams@staff.newman.ac.uk</p>
                    <p class="text-muted">3-hour session</p>
                </div>
            </section>

            

            <!-- Slide 2: Learning Objectives -->
            <section data-slide-title="Learning Objectives"><h2>Learning Objectives</h2>
                <ul>
                    <li>Master advanced function concepts</li>
                    <li>Understand object-oriented programming</li>
                    <li>Learn modern JavaScript features</li>
                    <li>Work with asynchronous programming</li>
                    <li>Apply functional programming concepts</li>
                </ul>
            </section>

            <!-- Slide 3: Function Types -->
            <section data-slide-title="Advanced Function Concepts"><h2>Advanced Function Concepts</h2>
                <div class="highlight">
                    <strong>Functions</strong> are first-class citizens in JavaScript
                </div>
                <div class="code-example">
                    <pre><code class="language-php">// Function declaration
function greet(name) { return `Hello ${name}`; }
// Function expression
const greet = function(name) { return `Hello ${name}`; };
// Arrow function
const greet = (name) =&gt; `Hello ${name}`;
// Immediately Invoked Function Expression (IIFE)
(function() { console.log('IIFE'); })();</code></pre>
                </div>
                <ul>
                    <li>Multiple ways to define functions</li>
                    <li>Functions can be assigned to variables</li>
                    <li>Functions can be passed as arguments</li>
                    <li>Functions can return other functions</li>
                </ul>
            </section>

            <!-- Slide 4: Higher-Order Functions -->
            <section data-slide-title="Higher-Order Functions"><h2>Higher-Order Functions</h2>
                <div class="code-example">
                    <pre><code class="language-php">// Function that returns a function
function multiply(x) {
return function(y) {
return x * y;
};
}
const multiplyByTwo = multiply(2);
console.log(multiplyByTwo(5)); // 10
// Function that takes a function as argument
function processArray(arr, callback) {
return arr.map(callback);
}
const numbers = [1, 2, 3, 4];
const doubled = processArray(numbers, x =&gt; x * 2);</code></pre>
                </div>
                <ul>
                    <li>Functions that return functions</li>
                    <li>Functions that take functions as arguments</li>
                    <li>Enable functional programming patterns</li>
                    <li>Create reusable and composable code</li>
                </ul>

                <!-- Interactive Advanced JavaScript Concepts Demo -->
                <div class="interactive-demo">
                    <h3>Try It: Advanced JavaScript Concepts</h3>
                    <div class="demo-container">
                        <div class="js-concepts-demo">
                            <div class="concept-tabs">
                                <button class="concept-tab active"
                                    onclick="switchConcept('closures')">Closures</button>
                                <button class="concept-tab"
                                    onclick="switchConcept('promises')">Promises</button>
                                <button class="concept-tab"
                                    onclick="switchConcept('async')">Async/Await</button>
                            </div>

                            <div class="concept-content">
                                <div id="closures-demo" class="concept-demo">
                                    <h4>Closure Demo</h4>
                                    <div class="demo-controls">
                                        <button class="demo-button" onclick="createCounter()">Create
                                            Counter</button>
                                        <button class="demo-button"
                                            onclick="incrementCounter()">Increment</button>
                                        <button class="demo-button" onclick="createWallet()">Create
                                            Wallet</button>
                                        <button class="demo-button" onclick="depositMoney()">Deposit
                                            $10</button>
                                        <button class="demo-button"
                                            onclick="withdrawMoney()">Withdraw $5</button>
                                    </div>
                                    <div id="demo-output" class="demo-output">
                                        <div class="log-entry info">Click buttons to see closures in
                                            action!</div>
                                    </div>
                                </div>

                                <div id="promises-demo" class="concept-demo" style="display: none;">
                                    <h4>Promise Demo</h4>
                                    <div class="demo-controls">
                                        <button class="demo-button"
                                            onclick="simulateAsyncTask()">Start Async Task</button>
                                        <button class="demo-button"
                                            onclick="simulatePromiseChain()">Promise Chain</button>
                                        <button class="demo-button"
                                            onclick="simulatePromiseAll()">Promise.all()</button>
                                    </div>
                                    <div id="promise-output" class="demo-output">
                                        <div class="log-entry info">Click buttons to see promises in
                                            action!</div>
                                    </div>
                                </div>

                                <div id="async-demo" class="concept-demo" style="display: none;">
                                    <h4>Async/Await Demo</h4>
                                    <div class="demo-controls">
                                        <button class="demo-button"
                                            onclick="simulateAsyncFunction()">Async
                                            Function</button>
                                        <button class="demo-button"
                                            onclick="simulateAsyncError()">Error Handling</button>
                                        <button class="demo-button"
                                            onclick="simulateAsyncParallel()">Parallel
                                            Execution</button>
                                    </div>
                                    <div id="async-output" class="demo-output">
                                        <div class="log-entry info">Click buttons to see async/await
                                            in action!</div>
                                    </div>
                                </div>
                            </div>

                            <div class="concept-info">
                                <h4>Current Concept:</h4>
                                <p id="concept-description">Closures allow functions to access
                                    variables from their outer scope even after the outer function
                                    has returned.</p>
                            </div>
                        </div>
                    </div>
                    <p class="interactive-description">
                        Explore advanced JavaScript concepts with interactive examples!
                    </p>
                </div>
            </section>

            <!-- Slide 5: Closures -->
            <section data-slide-title="Closures"><h2>Closures</h2>
                <div class="code-example">
                    <pre><code class="language-php">function createCounter() {
let count = 0;
return function() {
count++;
return count;
};
}
const counter = createCounter();
console.log(counter()); // 1
console.log(counter()); // 2
console.log(counter()); // 3
// Private variables
function createWallet(initialBalance) {
let balance = initialBalance;
return {
getBalance: () =&gt; balance,
deposit: (amount) =&gt; { balance += amount; },
withdraw: (amount) =&gt; {
if (amount &lt;= balance) {
balance -= amount;
return true;
}
return false;
}
};
}</code></pre>
                </div>
                <ul>
                    <li>Functions that remember their lexical scope</li>
                    <li>Access to variables from outer scope</li>
                    <li>Used for data privacy and state management</li>
                    <li>Common in modern JavaScript patterns</li>
                </ul>
            </section>

            <!-- Slide 6: Object-Oriented Programming -->
            <section data-slide-title="Object-Oriented Programming"><h2>Object-Oriented Programming</h2>
                <div class="code-example">
                    <pre><code class="language-php">// Constructor function
function Person(name, age) {
this.name = name;
this.age = age;
}
Person.prototype.greet = function() {
return `Hello, I'm ${this.name}`;
};
const person = new Person('John', 30);
console.log(person.greet()); // "Hello, I'm John"
// ES6 Classes
class Person {
constructor(name, age) {
this.name = name;
this.age = age;
}
greet() {
return `Hello, I'm ${this.name}`;
}
}</code></pre>
                </div>
                <ul>
                    <li>Constructor functions and prototypes</li>
                    <li>ES6 class syntax (syntactic sugar)</li>
                    <li>Inheritance and polymorphism</li>
                    <li>Encapsulation and abstraction</li>
                </ul>
            </section>

            <!-- Slide 7: Inheritance -->
            <section data-slide-title="Inheritance"><h2>Inheritance</h2>
                <div class="code-example">
                    <pre><code class="language-php">class Animal {
constructor(name) {
this.name = name;
}
speak() {
return `${this.name} makes a sound`;
}
}
class Dog extends Animal {
constructor(name, breed) {
super(name);
this.breed = breed;
}
speak() {
return `${this.name} barks`;
}
fetch() {
return `${this.name} fetches the ball`;
}
}
const dog = new Dog('Buddy', 'Golden Retriever');
console.log(dog.speak()); // "Buddy barks"</code></pre>
                </div>
                <ul>
                    <li>Use <code>extends</code> for inheritance</li>
                    <li>Call <code>super()</code> in constructor</li>
                    <li>Override methods in child classes</li>
                    <li>Add new methods to child classes</li>
                </ul>
            </section>

            <!-- Slide 8: Modern JavaScript Features -->
            <section data-slide-title="Modern JavaScript Features"><h2>Modern JavaScript Features</h2>
                <div class="code-example">
                    <pre><code class="language-php">// Destructuring
const { name, age } = person;
const [first, second, ...rest] = array;
// Spread operator
const newArray = [...oldArray, newItem];
const newObject = { ...oldObject, newProperty: value };
// Template literals
const message = `Hello ${name}, you are ${age} years old`;
// Default parameters
function greet(name = 'Guest') {
return `Hello ${name}`;
}
// Rest parameters
function sum(...numbers) {
return numbers.reduce((a, b) =&gt; a + b, 0);
}</code></pre>
                </div>
                <ul>
                    <li>Destructuring for cleaner code</li>
                    <li>Spread operator for copying and merging</li>
                    <li>Template literals for string interpolation</li>
                    <li>Default and rest parameters</li>
                </ul>
            </section>

            <!-- Slide 9: Promises -->
            <section data-slide-title="Promises"><h2>Promises</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">// Creating a promise
const myPromise = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    const random = Math.random();
    if (random &gt; 0.5) {
      resolve('Success!');
    } else {
    reject('Failed!');
  }
}, 1000);
});
// Using promises
myPromise
.then(result =&gt; console.log(result))
.catch(error =&gt; console.error(error));
// Promise chaining
fetch('/api/data')
.then(response =&gt; response.json())
.then(data =&gt; processData(data))
.catch(error =&gt; handleError(error));</code></pre>
                </div>
                <ul>
                    <li>Handle asynchronous operations</li>
                    <li>Better than callbacks</li>
                    <li>Chain multiple operations</li>
                    <li>Error handling with catch</li>
                </ul>
            </section>

            <!-- Slide 10: Async/Await -->
            <section data-slide-title="Async/Await"><h2>Async/Await</h2>
                <div class="code-example">
                    <pre><code class="language-php">// Async function
async function fetchUserData(userId) {
try {
const response = await
fetch(`/api/users/${userId}`);
if (!response.ok) {
throw new Error('User not found');
}
const userData = await response.json();
return userData;
} catch (error) {
console.error('Error fetching user:', error);
throw error;
}
}
// Using async function
async function displayUser(userId) {
const user = await fetchUserData(userId);
console.log(`User: ${user.name}`);
}
// Arrow function with async
const loadData = async () =&gt; {
const data = await fetch('/api/data');
return data.json();
};</code></pre>
                </div>
                <ul>
                    <li>Syntactic sugar over promises</li>
                    <li>Makes async code look synchronous</li>
                    <li>Better error handling with try/catch</li>
                    <li>Easier to read and understand</li>
                </ul>
            </section>

            <!-- Slide 11: Modules -->
            <section data-slide-title="ES6 Modules"><h2>ES6 Modules</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">// math.js (exporting)
export const add = (a, b) =&gt; a + b;
export const subtract = (a, b) =&gt; a - b;
export default class Calculator {
  multiply(a, b) { return a * b; }
}
// app.js (importing)
import Calculator, { add, subtract } from './math.js';
const calc = new Calculator();
console.log(add(5, 3)); // 8
console.log(calc.multiply(4, 2)); // 8
// Dynamic imports
const module = await import('./dynamic-module.js');</code></pre>
                </div>
                <ul>
                    <li>Organize code into separate files</li>
                    <li>Export and import functionality</li>
                    <li>Default and named exports</li>
                    <li>Dynamic imports for code splitting</li>
                </ul>
            </section>

            <!-- Slide 12: Functional Programming -->
            <section data-slide-title="Functional Programming Concepts"><h2>Functional Programming Concepts</h2>
                <div class="code-example">
                    <pre><code class="language-php">// Pure functions
const add = (a, b) =&gt; a + b;
const multiply = (a, b) =&gt; a * b;
// Function composition
const compose = (...fns) =&gt; x =&gt;
fns.reduceRight((acc, fn) =&gt; fn(acc), x);
const addOne = x =&gt; x + 1;
const double = x =&gt; x * 2;
const addOneAndDouble = compose(double, addOne);
console.log(addOneAndDouble(5)); // 12
// Immutability
const original = [1, 2, 3];
const doubled = original.map(x =&gt; x * 2);
// original is unchanged</code></pre>
                </div>
                <ul>
                    <li>Pure functions (no side effects)</li>
                    <li>Function composition</li>
                    <li>Immutability</li>
                    <li>Higher-order functions</li>
                </ul>
            </section>

            <!-- Slide 13: Array Methods -->
            <section data-slide-title="Modern Array Methods"><h2>Modern Array Methods</h2>
                <div class="code-example">
                    <pre><code class="language-javascript">const numbers = [1, 2, 3, 4, 5];
// Map
const doubled = numbers.map(x =&gt; x * 2);
// [2, 4, 6, 8, 10]
// Filter
const evens = numbers.filter(x =&gt; x % 2 === 0);
// [2, 4]
// Reduce
const sum = numbers.reduce((acc, x) =&gt; acc + x, 0);
// 15
// Find
const firstEven = numbers.find(x =&gt; x % 2 === 0);
// 2
// Some
const hasEven = numbers.some(x =&gt; x % 2 === 0);
// true
// Every
const allPositive = numbers.every(x =&gt; x &gt; 0);
// true</code></pre>
                </div>
                <ul>
                    <li>Functional programming approach</li>
                    <li>Chain multiple operations</li>
                    <li>More readable than loops</li>
                    <li>Immutable operations</li>
                </ul>
            </section>

            <!-- Slide 14: Error Handling -->
            <section data-slide-title="Advanced Error Handling"><h2>Advanced Error Handling</h2>
                <div class="code-example">
                    <pre><code class="language-php">// Custom error classes
class ValidationError extends Error {
constructor(message, field) {
super(message);
this.name = 'ValidationError';
this.field = field;
}
}
// Error handling with async/await
async function processData(data) {
try {
if (!data) {
throw new ValidationError('Data is
required', 'data');
}
const result = await validateAndProcess(data);
return result;
} catch (error) {
if (error instanceof ValidationError) {
console.error(`Validation error in
${error.field}:`, error.message);
} else {
console.error('Unexpected error:',
error);
}
throw error;
}
}</code></pre>
                </div>
                <ul>
                    <li>Custom error classes</li>
                    <li>Error inheritance</li>
                    <li>Type checking with instanceof</li>
                    <li>Proper error propagation</li>
                </ul>
            </section>

            <!-- Slide 15: Performance Optimization -->
            <section data-slide-title="Performance Optimization"><h2>Performance Optimization</h2>
                <ul>
                    <li>Memoization for expensive calculations</li>
                    <li>Debouncing and throttling</li>
                    <li>Lazy loading and code splitting</li>
                    <li>Efficient DOM manipulation</li>
                    <li>Memory leak prevention</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-php">// Memoization
function memoize(fn) {
const cache = new Map();
return function(...args) {
const key = JSON.stringify(args);
if (cache.has(key)) {
return cache.get(key);
}
const result = fn.apply(this, args);
cache.set(key, result);
return result;
};
}
// Debouncing
function debounce(func, wait) {
let timeout;
return function executedFunction(...args) {
const later = () =&gt; {
clearTimeout(timeout);
func(...args);
};
clearTimeout(timeout);
timeout = setTimeout(later, wait);
};
}</code></pre>
                </div>
            </section>

            <!-- Slide 16: Testing -->
            <section data-slide-title="Testing JavaScript Code"><h2>Testing JavaScript Code</h2>
                <ul>
                    <li>Unit testing with Jest or Mocha</li>
                    <li>Test-driven development (TDD)</li>
                    <li>Mocking and stubbing</li>
                    <li>Integration testing</li>
                    <li>Code coverage</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-php">// Example test with Jest
function add(a, b) {
return a + b;
}
// test.js
describe('add function', () =&gt; {
test('adds two positive numbers', () =&gt; {
expect(add(2, 3)).toBe(5);
});
test('adds negative numbers', () =&gt; {
expect(add(-1, -2)).toBe(-3);
});
test('handles zero', () =&gt; {
expect(add(0, 5)).toBe(5);
});
});</code></pre>
                </div>
            </section>

            <!-- Slide 17: Debugging -->
            <section data-slide-title="Advanced Debugging"><h2>Advanced Debugging</h2>
                <ul>
                    <li>Browser developer tools</li>
                    <li>Console methods (log, warn, error, table)</li>
                    <li>Breakpoints and step-through</li>
                    <li>Performance profiling</li>
                    <li>Memory leak detection</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-php">// Debugging techniques
console.log('Debug info:', { user, data });
console.table(arrayOfObjects);
console.trace('Function call stack');
// Performance measurement
console.time('operation');
// ... expensive operation
console.timeEnd('operation');
// Debugger statement
function complexFunction() {
let result = 0;
debugger; // Execution stops here
return result;
}</code></pre>
                </div>
            </section>

            <!-- Slide 18: TASK 1 - Halfway Point -->
            <section data-slide-title="Task 1: Advanced JavaScript Library" class="center"><h2>Task 1: Advanced JavaScript Library</h2>
                <div class="task-box">
                    <h3>Instructions:</h3>
                    <ol>
                        <li>Create a new JavaScript file called <code>advanced-library.js</code>
                        </li>
                        <li>Build a utility library with:</li>
                        <ul>
                            <li><strong>Math utilities:</strong> Advanced mathematical functions
                            </li>
                            <li><strong>Array utilities:</strong> Custom array manipulation methods
                            </li>
                            <li><strong>Object utilities:</strong> Deep cloning, merging, validation
                            </li>
                            <li><strong>Async utilities:</strong> Promise helpers and async
                                operations</li>
                        </ul>
                        <li>Use modern JavaScript features:</li>
                        <ul>
                            <li>ES6 classes and modules</li>
                            <li>Arrow functions and destructuring</li>
                            <li>Promises and async/await</li>
                            <li>Higher-order functions</li>
                        </ul>
                        <li>Implement proper error handling</li>
                        <li>Add JSDoc documentation</li>
                        <li>Create unit tests for your functions</li>
                    </ol>
                    <p><strong>Time:</strong> 45 minutes</p>
                    <p><em>This task will help you understand advanced JavaScript concepts and
                            patterns</em></p>
                </div>
            </section>

            <!-- Slide 19: Break/Catch Up -->
            <section data-slide-title="Break Time" class="center"><h2>Break Time</h2>
                <div class="highlight">
                    <h3>15 Minutes</h3>
                    <p>Take a break, ask questions, or catch up on the previous task.</p>
                    <p><em>Next: Secondary slides and Task 2</em></p>
                </div>
            </section>

            <!-- Slide 20: Design Patterns -->
            <section data-slide-title="Common Design Patterns"><h2>Common Design Patterns</h2>
                <ul>
                    <li><strong>Singleton:</strong> Single instance pattern</li>
                    <li><strong>Factory:</strong> Object creation pattern</li>
                    <li><strong>Observer:</strong> Event handling pattern</li>
                    <li><strong>Module:</strong> Encapsulation pattern</li>
                    <li><strong>Decorator:</strong> Function enhancement pattern</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-javascript">// Singleton pattern
class Database {
  constructor() {
    if (Database.instance) {
      return Database.instance;
    }
    Database.instance = this;
  }
}
// Factory pattern
class UserFactory {
  createUser(type, data) {
    switch(type) {
      case 'admin': return new
      AdminUser(data);
      case 'regular': return new
      RegularUser(data);
    }
  }
}</code></pre>
                </div>
            </section>

            <!-- Slide 21: Memory Management -->
            <section data-slide-title="Memory Management"><h2>Memory Management</h2>
                <ul>
                    <li>Garbage collection</li>
                    <li>Memory leaks prevention</li>
                    <li>Event listener cleanup</li>
                    <li>Closure memory considerations</li>
                    <li>WeakMap and WeakSet usage</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-javascript">// Memory leak prevention
class EventManager {
  constructor() {
    this.listeners = new Map();
  }
  addListener(element, event, handler) {
    element.addEventListener(event, handler);
    this.listeners.set(element, { event, handler });
  }
  removeListener(element) {
    const listener = this.listeners.get(element);
    if (listener) {
      element.removeEventListener(listener.event,
      listener.handler);
      this.listeners.delete(element);
    }
  }
  cleanup() {
    this.listeners.forEach((listener, element) =&gt; {
      this.removeListener(element);
    });
  }
}</code></pre>
                </div>
            </section>

            <!-- Slide 22: Security Best Practices -->
            <section data-slide-title="Security Best Practices"><h2>Security Best Practices</h2>
                <ul>
                    <li>Input validation and sanitization</li>
                    <li>XSS prevention</li>
                    <li>CSRF protection</li>
                    <li>Secure coding practices</li>
                    <li>Content Security Policy (CSP)</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-php">// Input validation
function validateInput(input) {
if (typeof input !== 'string') {
throw new Error('Input must be a string');
}
return input.replace(/[&lt;&gt;]/g, ''); // Basic XSS prevention
}
// Secure object property access
const safeGet = (obj, path) =&gt; {
return path.split('.').reduce((current, key) =&gt; {
return current &amp;&amp; current[key] !== undefined ?
current[key] : null;
}, obj);
};</code></pre>
                </div>
            </section>

            <!-- Slide 23: Code Quality -->
            <section data-slide-title="Code Quality and Standards"><h2>Code Quality and Standards</h2>
                <ul>
                    <li>ESLint for code linting</li>
                    <li>Prettier for code formatting</li>
                    <li>JSDoc for documentation</li>
                    <li>TypeScript for type safety</li>
                    <li>Code review practices</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-php">// JSDoc documentation
/**
* Calculates the factorial of a number
* @param {number} n - The number to calculate factorial for
* @returns {number} The factorial of n
* @throws {Error} If n is negative
*/
function factorial(n) {
if (n &lt; 0) {
throw new Error('Factorial is not defined for
negative numbers');
}
if (n === 0 || n === 1) {
return 1;
}
return n * factorial(n - 1);
}</code></pre>
                </div>
            </section>

            <!-- Slide 24: TASK 2 - Final Task -->
            <section data-slide-title="Task 2: Complete Web Application" class="center"><h2>Task 2: Complete Web Application</h2>
                <div class="task-box">
                    <h3>Instructions:</h3>
                    <ol>
                        <li>Create a complete web application using all concepts learned</li>
                        <li>Build a task management app with:</li>
                        <ul>
                            <li><strong>Architecture:</strong> Modular design with ES6 modules</li>
                            <li><strong>Data Management:</strong> Local storage with CRUD operations
                            </li>
                            <li><strong>UI Components:</strong> Reusable components using classes
                            </li>
                            <li><strong>Async Operations:</strong> Simulated API calls with promises
                            </li>
                            <li><strong>Event Handling:</strong> Advanced event delegation and
                                custom events</li>
                        </ul>
                        <li>Implement advanced features:</li>
                        <ul>
                            <li>Task filtering and sorting</li>
                            <li>Drag and drop functionality</li>
                            <li>Real-time search with debouncing</li>
                            <li>Data validation and error handling</li>
                            <li>Responsive design with modern CSS</li>
                        </ul>
                        <li>Use design patterns (Factory, Observer, Module)</li>
                        <li>Add comprehensive error handling and logging</li>
                        <li>Include unit tests for core functionality</li>
                    </ol>
                    <p><strong>Time:</strong> 45 minutes</p>
                    <p><em>This task will help you understand full-stack JavaScript development</em>
                    </p>
                </div>
            </section>

            <!-- Slide 25: Troubleshooting -->
            <section data-slide-title="Common Advanced Issues"><h2>Common Advanced Issues</h2>
                <ul>
                    <li><strong>Scope issues:</strong> Check closure and context</li>
                    <li><strong>Async problems:</strong> Promise rejection handling</li>
                    <li><strong>Memory leaks:</strong> Event listener cleanup</li>
                    <li><strong>Performance issues:</strong> Profiling and optimization</li>
                    <li><strong>Module errors:</strong> Import/export syntax</li>
                    <li><strong>Type errors:</strong> Runtime type checking</li>
                </ul>
                <div class="code-example">
                    <pre><code class="language-php">// Common debugging patterns
// Check if function is called
console.log('Function called with:', arguments);
// Check promise state
promise.then(result =&gt; {
console.log('Promise resolved:', result);
}).catch(error =&gt; {
console.error('Promise rejected:', error);
});
// Check object structure
console.log('Object keys:', Object.keys(obj));
console.log('Object values:', Object.values(obj));</code></pre>
                </div>
            </section>

            <!-- Slide 26: Summary -->
            <section data-slide-title="Session Summary" class="center"><h2>Session Summary</h2>
                <ul>
                    <li>Master advanced function concepts and closures</li>
                    <li>Understand object-oriented programming</li>
                    <li>Use modern JavaScript features effectively</li>
                    <li>Handle asynchronous operations properly</li>
                    <li>Apply functional programming concepts</li>
                    <li>Write maintainable and testable code</li>
                </ul>
                <div class="highlight">
                    <h3>Next Session:</h3>
                    <p>Web APIs and External Libraries - Working with third-party services</p>
                </div>
            </section>
        </div>
    </div>

    <script src="../../libs/reveal.js/dist/reveal.js"></script>
    <script src="../../libs/reveal.js/plugin/notes/notes.js"></script>
    <script src="../../libs/reveal.js/plugin/markdown/markdown.js"></script>
    <script src="../../libs/reveal.js/plugin/highlight/highlight.js"></script>
    <script>
        
        // Prevent wheel events from changing slides when scrolling within scrollable content
        document.addEventListener('DOMContentLoaded', function() {
            const scrollableElements = document.querySelectorAll('.reveal pre, .reveal .code-example, .reveal .task-box, .reveal .info-box, .reveal .warning-box, [style*="overflow"]');
            
            scrollableElements.forEach(function(element) {
                element.addEventListener('wheel', function(e) {
                    e.stopPropagation();
                }, { passive: true });
            });
        });
        Reveal.initialize({
            hash: true,
            slideNumber: true,
            transition: 'none',
            backgroundTransition: 'none',
            center: false,
            disableLayout: true,
            plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
        });

        // Advanced JavaScript Concepts Demo Functions
        let counter = null;
        let wallet = null;

        function switchConcept(concept) {
            // Update tab states
            document.querySelectorAll('.concept-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // Show/hide demos
            document.querySelectorAll('.concept-demo').forEach(demo => demo.style.display = 'none');
            document.getElementById(concept + '-demo').style.display = 'flex';

            // Update description
            const descriptions = {
                closures: 'Closures allow functions to access variables from their outer scope even after the outer function has returned.',
                promises: 'Promises represent the eventual completion (or failure) of an asynchronous operation.',
                async: 'Async/await provides a cleaner way to work with promises and asynchronous code.'
            };
            document.getElementById('concept-description').textContent = descriptions[concept];
        }

        function logToOutput(outputId, message, type = 'info') {
            const output = document.getElementById(outputId);
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            output.appendChild(logEntry);
            output.scrollTop = output.scrollHeight;
        }

        // Closure functions
        function createCounter() {
            counter = (() => {
                let count = 0;
                return () => {
                    count++;
                    return count;
                };
            })();
            logToOutput('demo-output', 'Counter created!', 'success');
        }

        function incrementCounter() {
            if (counter) {
                const result = counter();
                logToOutput('demo-output', `Counter incremented: ${result}`, 'success');
            } else {
                logToOutput('demo-output', 'Please create a counter first!', 'error');
            }
        }

        function createWallet() {
            wallet = (() => {
                let balance = 0;
                return {
                    getBalance: () => balance,
                    deposit: (amount) => {
                        balance += amount;
                        return balance;
                    },
                    withdraw: (amount) => {
                        if (amount <= balance) {
                            balance -= amount;
                            return balance;
                        }
                        return false;
                    }
                };
            })();
            logToOutput('demo-output', 'Wallet created with $0 balance!', 'success');
        }

        function depositMoney() {
            if (wallet) {
                const newBalance = wallet.deposit(10);
                logToOutput('demo-output', `Deposited $10. New balance: $${newBalance}`, 'success');
            } else {
                logToOutput('demo-output', 'Please create a wallet first!', 'error');
            }
        }

        function withdrawMoney() {
            if (wallet) {
                const result = wallet.withdraw(5);
                if (result !== false) {
                    logToOutput('demo-output', `Withdrew $5. New balance: $${result}`, 'success');
                } else {
                    logToOutput('demo-output', 'Insufficient funds!', 'error');
                }
            } else {
                logToOutput('demo-output', 'Please create a wallet first!', 'error');
            }
        }

        // Promise functions
        function simulateAsyncTask() {
            logToOutput('promise-output', 'Starting async task...', 'info');

            new Promise((resolve) => {
                setTimeout(() => {
                    resolve('Task completed!');
                }, 2000);
            }).then(result => {
                logToOutput('promise-output', result, 'success');
            });
        }

        function simulatePromiseChain() {
            logToOutput('promise-output', 'Starting promise chain...', 'info');

            Promise.resolve(1)
                .then(value => {
                    logToOutput('promise-output', `Step 1: ${value}`, 'info');
                    return value * 2;
                })
                .then(value => {
                    logToOutput('promise-output', `Step 2: ${value}`, 'info');
                    return value + 3;
                })
                .then(value => {
                    logToOutput('promise-output', `Final result: ${value}`, 'success');
                });
        }

        function simulatePromiseAll() {
            logToOutput('promise-output', 'Starting Promise.all...', 'info');

            const promises = [
                new Promise(resolve => setTimeout(() => resolve('Task 1'), 1000)),
                new Promise(resolve => setTimeout(() => resolve('Task 2'), 1500)),
                new Promise(resolve => setTimeout(() => resolve('Task 3'), 800))
            ];

            Promise.all(promises).then(results => {
                logToOutput('promise-output', `All tasks completed: ${results.join(', ')}`, 'success');
            });
        }

        // Async/await functions
        async function simulateAsyncFunction() {
            logToOutput('async-output', 'Starting async function...', 'info');

            try {
                const result = await new Promise(resolve => {
                    setTimeout(() => resolve('Async operation completed!'), 2000);
                });
                logToOutput('async-output', result, 'success');
            } catch (error) {
                logToOutput('async-output', `Error: ${error.message}`, 'error');
            }
        }

        async function simulateAsyncError() {
            logToOutput('async-output', 'Testing error handling...', 'info');

            try {
                await new Promise((resolve, reject) => {
                    setTimeout(() => reject(new Error('Something went wrong!')), 1500);
                });
            } catch (error) {
                logToOutput('async-output', `Caught error: ${error.message}`, 'error');
            }
        }

        async function simulateAsyncParallel() {
            logToOutput('async-output', 'Starting parallel async operations...', 'info');

            const startTime = Date.now();

            const [result1, result2, result3] = await Promise.all([
                new Promise(resolve => setTimeout(() => resolve('Operation 1'), 1000)),
                new Promise(resolve => setTimeout(() => resolve('Operation 2'), 1200)),
                new Promise(resolve => setTimeout(() => resolve('Operation 3'), 800))
            ]);

            const endTime = Date.now();
            const duration = endTime - startTime;

            logToOutput('async-output', `Parallel results: ${result1}, ${result2}, ${result3}`, 'success');
            logToOutput('async-output', `Total time: ${duration}ms (vs ~3000ms sequential)`, 'info');
        }
    </script>
</body>

</html>