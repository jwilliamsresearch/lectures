<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz 1: Introduction to HTML - Birmingham Newman University</title>
    <link rel="stylesheet" href="../../base.css">
    <link rel="stylesheet" href="../../placeholder/quiz.css">    <style>
        body {
            max-width: 900px;
            margin: 2em auto;
            padding: 2em;
        }
        
        .quiz-header {
            text-align: center;
            margin-bottom: 3em;
            padding-bottom: 2em;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .quiz-header h1 {
            font-size: 2em;
            margin-bottom: 0.3em;
        }
        
        .quiz-header .subtitle {
            color: #666;
            font-size: 1.1em;
        }
        
        .quiz-info {
            background: #f8f8f8;
            padding: 1.5em;
            margin-bottom: 2em;
            border-left: 3px solid #2c3e50;
        }
        
        .question {
            background: #fff;
            padding: 2em;
            margin-bottom: 2em;
            border: 1px solid #e0e0e0;
        }
        
        .question-number {
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 1em;
        }
        
        .question-text {
            font-size: 1.1em;
            margin-bottom: 1.5em;
            line-height: 1.6;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.8em;
        }
        
        .option {
            padding: 1em;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background: #f8f8f8;
            border-color: #2c3e50;
        }
        
        .option.selected {
            background: #e8f0f8;
            border-color: #2c3e50;
        }
        
        .option.correct {
            background: #e8f5e9;
            border-color: #4caf50;
            border-width: 2px;
        }
        
        .option.incorrect {
            background: #ffebee;
            border-color: #f44336;
            border-width: 2px;
        }
        
        .explanation {
            margin-top: 1em;
            padding: 1em;
            background: #f0f7ff;
            border-left: 3px solid #2196f3;
            display: none;
        }
        
        .explanation.show {
            display: block;
        }
        
        .submit-container {
            text-align: center;
            margin: 3em 0 2em 0;
        }
        
        .btn {
            padding: 1em 2.5em;
            background: #2c3e50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.2s;
        }
        
        .btn:hover {
            background: #1a252f;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .results {
            display: none;
            text-align: center;
            padding: 3em;
            background: #f8f8f8;
            border: 1px solid #e0e0e0;
        }
        
        .results.show {
            display: block;
        }
        
        .score {
            font-size: 3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.5em;
        }
        
        .feedback {
            font-size: 1.2em;
            margin-bottom: 2em;
            color: #666;
        }
        
        .results-buttons {
            display: flex;
            gap: 1em;
            justify-content: center;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="quiz-header">
        <h1>Quiz</h1>
        <div class="subtitle">Newman University | CMU422</div>
    </div>
    
    <div class="quiz-info">
        <p><strong>Instructions:</strong> Answer all questions below. Questions are randomized each time. Click "Submit Quiz" when finished to see your results.</p>
    </div>
    
    <div id="quiz-container">
        <!-- Questions will be populated by JavaScript -->
    </div>
    
    <div class="submit-container">
        <button class="btn" id="submitBtn" onclick="submitQuiz()">Submit Quiz</button>
    </div>
    
    <div class="results" id="results">
        <div class="score" id="scoreDisplay"></div>
        <div class="feedback" id="feedback"></div>
        <div class="results-buttons">
            <button class="btn" onclick="location.reload()">Retake Quiz</button>
            <button class="btn" onclick="window.location.href='../index.html'">Back to Module</button>
        </div>
    </div>

    <script>
                                            const questionsData = [
            {
                question: "What does HTML stand for?",
                options: [
                    "HyperText Markup Language",
                    "High Tech Modern Language",
                    "Home Tool Markup Language",
                    "Hyperlink and Text Markup Language"
                ],
                correct: 0,
                explanation: "HTML stands for HyperText Markup Language. It's the standard markup language for creating web pages."
            },
            {
                question: "Which HTML element is used to define the main content of a document?",
                options: [
                    "&lt;main&gt;",
                    "&lt;body&gt;",
                    "&lt;content&gt;",
                    "&lt;section&gt;"
                ],
                correct: 1,
                explanation: "The &lt;body&gt; element contains all the visible content of the HTML document."
            },
            {
                question: "What is the correct HTML structure for a basic web page?",
                options: [
                    "&lt;html&gt;&lt;head&gt;&lt;body&gt;&lt;/body&gt;&lt;/head&gt;&lt;/html&gt;",
                    "&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;",
                    "&lt;head&gt;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&lt;/head&gt;",
                    "&lt;body&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;/html&gt;&lt;/body&gt;"
                ],
                correct: 1,
                explanation: "The correct structure is &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;"
            },
            {
                question: "Which HTML tag is used to create a heading?",
                options: [
                    "&lt;heading&gt;",
                    "&lt;h1&gt;",
                    "&lt;head&gt;",
                    "&lt;title&gt;"
                ],
                correct: 1,
                explanation: "&lt;h1&gt; through &lt;h6&gt; tags are used to create headings, with &lt;h1&gt; being the most important."
            },
            {
                question: "What is the purpose of the &lt;head&gt; element?",
                options: [
                    "To display visible content",
                    "To contain metadata about the document",
                    "To create navigation links",
                    "To style the page"
                ],
                correct: 1,
                explanation: "The &lt;head&gt; element contains metadata about the HTML document, such as title, character encoding, and links to external resources."
            },
            {
                question: "Which HTML element is used to create a paragraph?",
                options: [
                    "&lt;paragraph&gt;",
                    "&lt;p&gt;",
                    "&lt;text&gt;",
                    "&lt;para&gt;"
                ],
                correct: 1,
                explanation: "The &lt;p&gt; element is used to create paragraphs in HTML."
            },
            {
                question: "What is semantic HTML?",
                options: [
                    "HTML that uses only CSS for styling",
                    "HTML that describes the meaning of content",
                    "HTML that is written in a specific programming language",
                    "HTML that only works on modern browsers"
                ],
                correct: 1,
                explanation: "Semantic HTML uses elements that clearly describe their meaning to both the browser and the developer."
            },
            {
                question: "Which HTML element is used to create a line break?",
                options: [
                    "&lt;break&gt;",
                    "&lt;br&gt;",
                    "&lt;line&gt;",
                    "&lt;newline&gt;"
                ],
                correct: 1,
                explanation: "The &lt;br&gt; element creates a line break in HTML."
            },
            {
                question: "What is the purpose of the &lt;title&gt; element?",
                options: [
                    "To style the page title",
                    "To define the document title shown in browser tab",
                    "To create a heading on the page",
                    "To link to external resources"
                ],
                correct: 1,
                explanation: "The &lt;title&gt; element defines the title of the document, which appears in the browser tab."
            },
            {
                question: "Which HTML element is used to create a list?",
                options: [
                    "&lt;list&gt;",
                    "&lt;ul&gt;",
                    "&lt;item&gt;",
                    "&lt;li&gt;"
                ],
                correct: 1,
                explanation: "&lt;ul&gt; creates an unordered list, &lt;ol&gt; creates an ordered list, and &lt;li&gt; creates list items."
            },
            {
                question: "What is the correct way to add a comment in HTML?",
                options: [
                    "// This is a comment",
                    "/* This is a comment */",
                    "&lt;!-- This is a comment --&gt;",
                    "&lt;comment&gt;This is a comment&lt;/comment&gt;"
                ],
                correct: 2,
                explanation: "HTML comments use the syntax &lt;!-- comment --&gt;"
            },
            {
                question: "Which HTML element is used to create a link?",
                options: [
                    "&lt;link&gt;",
                    "&lt;a&gt;",
                    "&lt;href&gt;",
                    "&lt;url&gt;"
                ],
                correct: 1,
                explanation: "The &lt;a&gt; element creates hyperlinks in HTML."
            },
            {
                question: "What is the purpose of the &lt;meta&gt; element?",
                options: [
                    "To create metadata about the document",
                    "To style the page",
                    "To create navigation menus",
                    "To add images to the page"
                ],
                correct: 0,
                explanation: "The &lt;meta&gt; element provides metadata about the HTML document, such as character encoding, viewport settings, and SEO information."
            },
            {
                question: "Which HTML element is used to create an image?",
                options: [
                    "&lt;image&gt;",
                    "&lt;img&gt;",
                    "&lt;picture&gt;",
                    "&lt;photo&gt;"
                ],
                correct: 1,
                explanation: "The &lt;img&gt; element is used to embed images in HTML documents."
            },
            {
                question: "What is the purpose of the &lt;!DOCTYPE html&gt; declaration?",
                options: [
                    "To define the document type and version",
                    "To create a new HTML document",
                    "To link to external stylesheets",
                    "To add JavaScript functionality"
                ],
                correct: 0,
                explanation: "The &lt;!DOCTYPE html&gt; declaration tells the browser that this is an HTML5 document."
            }
        ];
        // Shuffle array function
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }
        
        // Randomize questions on page load
        const questions = shuffleArray(questionsData);
        let userAnswers = new Array(questions.length).fill(null);
        
        function initQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = questions.map((q, qIndex) => `
                <div class="question" id="question-${qIndex}">
                    <div class="question-number">Question ${qIndex + 1} of ${questions.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">
                        ${q.options.map((option, oIndex) => `
                            <div class="option" data-question="${qIndex}" data-option="${oIndex}" onclick="selectOption(${qIndex}, ${oIndex})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation-${qIndex}">
                        <strong>Explanation:</strong> ${q.explanation || 'No explanation provided.'}
                    </div>
                </div>
            `).join('');
        }
        
        function selectOption(questionIndex, optionIndex) {
            console.log('selectOption called:', questionIndex, optionIndex);
            
            // Deselect all options for this question
            document.querySelectorAll(`[data-question="${questionIndex}"]`).forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Select the clicked option using data attributes
            const selectedOption = document.querySelector(`[data-question="${questionIndex}"][data-option="${optionIndex}"]`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
                console.log('Option selected successfully');
            } else {
                console.log('ERROR: Could not find option element');
            }
            userAnswers[questionIndex] = optionIndex;
            console.log('userAnswers updated:', userAnswers);
        }
        
        function submitQuiz() {
            console.log('submitQuiz called');
            console.log('Current userAnswers:', userAnswers);
            console.log('Questions length:', questions.length);
            
            // Check if all questions are answered
            const unanswered = userAnswers.filter((ans, idx) => ans === null).length;
            console.log('Unanswered count:', unanswered);
            
            if (unanswered > 0) {
                alert(`Please answer all questions before submitting. ${unanswered} question(s) remaining.`);
                console.log('User answers:', userAnswers);
                console.log('Total questions:', questions.length);
                return;
            }
            
            console.log('All questions answered, calculating score...');
            
            // Calculate score
            let correct = 0;
            questions.forEach((q, index) => {
                const isCorrect = userAnswers[index] === q.correct;
                if (isCorrect) correct++;
                
                // Show correct/incorrect
                const options = document.querySelectorAll(`[data-question="${index}"]`);
                options.forEach((opt, oIndex) => {
                    opt.style.cursor = 'default';
                    opt.onclick = null;
                    
                    if (oIndex === q.correct) {
                        opt.classList.add('correct');
                    } else if (oIndex === userAnswers[index]) {
                        opt.classList.add('incorrect');
                    }
                });
                
                // Show explanation
                document.getElementById(`explanation-${index}`).classList.add('show');
            });
            
            // Display results
            const percentage = Math.round((correct / questions.length) * 100);
            document.getElementById('scoreDisplay').textContent = `${correct}/${questions.length} (${percentage}%)`;
            
            let feedbackText = '';
            if (percentage >= 90) {
                feedbackText = 'Excellent work! You have demonstrated mastery of this material.';
            } else if (percentage >= 80) {
                feedbackText = 'Very good! You have a strong understanding of the concepts.';
            } else if (percentage >= 70) {
                feedbackText = 'Good effort. You have grasped the fundamentals.';
            } else if (percentage >= 60) {
                feedbackText = 'Fair performance. Review the material to strengthen your understanding.';
            } else {
                feedbackText = 'Additional study is recommended. Review the session materials carefully.';
            }
            
            document.getElementById('feedback').textContent = feedbackText;
            document.getElementById('results').classList.add('show');
            document.getElementById('submitBtn').disabled = true;
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Initialize quiz on page load
        window.onload = initQuiz;
    </script>
</html>
