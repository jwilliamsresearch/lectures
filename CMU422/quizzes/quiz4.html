<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz 4: CSS Layout and Box Model - Birmingham Newman University</title>
    <link rel="stylesheet" href="../../base.css">
    <link rel="stylesheet" href="../../placeholder/quiz.css">    <style>
        body {
            max-width: 900px;
            margin: 2em auto;
            padding: 2em;
        }
        
        .quiz-header {
            text-align: center;
            margin-bottom: 3em;
            padding-bottom: 2em;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .quiz-header h1 {
            font-size: 2em;
            margin-bottom: 0.3em;
        }
        
        .quiz-header .subtitle {
            color: #666;
            font-size: 1.1em;
        }
        
        .quiz-info {
            background: #f8f8f8;
            padding: 1.5em;
            margin-bottom: 2em;
            border-left: 3px solid #2c3e50;
        }
        
        .question {
            background: #fff;
            padding: 2em;
            margin-bottom: 2em;
            border: 1px solid #e0e0e0;
        }
        
        .question-number {
            color: #2c3e50;
            font-weight: bold;
            margin-bottom: 1em;
        }
        
        .question-text {
            font-size: 1.1em;
            margin-bottom: 1.5em;
            line-height: 1.6;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.8em;
        }
        
        .option {
            padding: 1em;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background: #f8f8f8;
            border-color: #2c3e50;
        }
        
        .option.selected {
            background: #e8f0f8;
            border-color: #2c3e50;
        }
        
        .option.correct {
            background: #e8f5e9;
            border-color: #4caf50;
            border-width: 2px;
        }
        
        .option.incorrect {
            background: #ffebee;
            border-color: #f44336;
            border-width: 2px;
        }
        
        .explanation {
            margin-top: 1em;
            padding: 1em;
            background: #f0f7ff;
            border-left: 3px solid #2196f3;
            display: none;
        }
        
        .explanation.show {
            display: block;
        }
        
        .submit-container {
            text-align: center;
            margin: 3em 0 2em 0;
        }
        
        .btn {
            padding: 1em 2.5em;
            background: #2c3e50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.2s;
        }
        
        .btn:hover {
            background: #1a252f;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .results {
            display: none;
            text-align: center;
            padding: 3em;
            background: #f8f8f8;
            border: 1px solid #e0e0e0;
        }
        
        .results.show {
            display: block;
        }
        
        .score {
            font-size: 3em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.5em;
        }
        
        .feedback {
            font-size: 1.2em;
            margin-bottom: 2em;
            color: #666;
        }
        
        .results-buttons {
            display: flex;
            gap: 1em;
            justify-content: center;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="quiz-header">
        <h1>Quiz</h1>
        <div class="subtitle">Newman University | CMU422</div>
    </div>
    
    <div class="quiz-info">
        <p><strong>Instructions:</strong> Answer all questions below. Questions are randomized each time. Click "Submit Quiz" when finished to see your results.</p>
    </div>
    
    <div id="quiz-container">
        <!-- Questions will be populated by JavaScript -->
    </div>
    
    <div class="submit-container">
        <button class="btn" id="submitBtn" onclick="submitQuiz()">Submit Quiz</button>
    </div>
    
    <div class="results" id="results">
        <div class="score" id="scoreDisplay"></div>
        <div class="feedback" id="feedback"></div>
        <div class="results-buttons">
            <button class="btn" onclick="location.reload()">Retake Quiz</button>
            <button class="btn" onclick="window.location.href='../index.html'">Back to Module</button>
        </div>
    </div>

    <script>
                                            const questionsData = [
            {
                question: "What are the four components of the CSS box model?",
                options: [
                    "Content, padding, border, margin",
                    "Width, height, padding, margin",
                    "Content, width, height, border",
                    "Padding, margin, border, outline"
                ],
                correct: 0,
                explanation: "The CSS box model consists of content, padding, border, and margin."
            },
            {
                question: "Which CSS property controls the space between the content and the border?",
                options: [
                    "margin",
                    "padding",
                    "border",
                    "spacing"
                ],
                correct: 1,
                explanation: "The 'padding' property controls the space between content and border."
            },
            {
                question: "What is the default value of the 'box-sizing' property?",
                options: [
                    "content-box",
                    "border-box",
                    "padding-box",
                    "margin-box"
                ],
                correct: 0,
                explanation: "The default value of 'box-sizing' is 'content-box'."
            },
            {
                question: "Which CSS property is used to control how an element is positioned?",
                options: [
                    "display",
                    "position",
                    "layout",
                    "placement"
                ],
                correct: 1,
                explanation: "The 'position' property controls how an element is positioned."
            },
            {
                question: "What does 'position: relative' do?",
                options: [
                    "Removes the element from the document flow",
                    "Positions the element relative to its normal position",
                    "Positions the element relative to the viewport",
                    "Positions the element relative to its parent"
                ],
                correct: 1,
                explanation: "'position: relative' positions the element relative to where it would normally be."
            },
            {
                question: "What does 'position: absolute' do?",
                options: [
                    "Positions the element relative to its normal position",
                    "Positions the element relative to the nearest positioned ancestor",
                    "Positions the element relative to the viewport",
                    "Positions the element relative to the document body"
                ],
                correct: 1,
                explanation: "'position: absolute' positions the element relative to its nearest positioned ancestor."
            },
            {
                question: "Which CSS property is used to control the display behavior of an element?",
                options: [
                    "position",
                    "display",
                    "layout",
                    "visibility"
                ],
                correct: 1,
                explanation: "The 'display' property controls how an element is displayed."
            },
            {
                question: "What does 'display: none' do?",
                options: [
                    "Hides the element but keeps its space",
                    "Completely removes the element from the layout",
                    "Makes the element transparent",
                    "Moves the element off-screen"
                ],
                correct: 1,
                explanation: "'display: none' completely removes the element from the layout."
            },
            {
                question: "What does 'display: block' do?",
                options: [
                    "Makes the element inline",
                    "Makes the element take full width and start on a new line",
                    "Makes the element flexible",
                    "Makes the element invisible"
                ],
                correct: 1,
                explanation: "'display: block' makes the element take full width and start on a new line."
            },
            {
                question: "What does 'display: inline' do?",
                options: [
                    "Makes the element take full width",
                    "Makes the element flow with text content",
                    "Makes the element flexible",
                    "Makes the element invisible"
                ],
                correct: 1,
                explanation: "'display: inline' makes the element flow with text content."
            },
            {
                question: "Which CSS property is used to control the width of an element?",
                options: [
                    "size",
                    "width",
                    "dimension",
                    "measure"
                ],
                correct: 1,
                explanation: "The 'width' property controls the width of an element."
            },
            {
                question: "Which CSS property is used to control the height of an element?",
                options: [
                    "size",
                    "height",
                    "dimension",
                    "measure"
                ],
                correct: 1,
                explanation: "The 'height' property controls the height of an element."
            },
            {
                question: "What is the purpose of 'max-width'?",
                options: [
                    "Sets the minimum width of an element",
                    "Sets the maximum width an element can have",
                    "Sets the exact width of an element",
                    "Sets the preferred width of an element"
                ],
                correct: 1,
                explanation: "'max-width' sets the maximum width an element can have."
            },
            {
                question: "What is the purpose of 'min-width'?",
                options: [
                    "Sets the maximum width of an element",
                    "Sets the minimum width an element can have",
                    "Sets the exact width of an element",
                    "Sets the preferred width of an element"
                ],
                correct: 1,
                explanation: "'min-width' sets the minimum width an element can have."
            },
            {
                question: "Which CSS property is used to control the overflow of content?",
                options: [
                    "overflow",
                    "content",
                    "flow",
                    "spill"
                ],
                correct: 0,
                explanation: "The 'overflow' property controls how content that doesn't fit is handled."
            }
        ];
        // Shuffle array function
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }
        
        // Randomize questions on page load
        const questions = shuffleArray(questionsData);
        let userAnswers = new Array(questions.length).fill(null);
        
        function initQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = questions.map((q, qIndex) => `
                <div class="question" id="question-${qIndex}">
                    <div class="question-number">Question ${qIndex + 1} of ${questions.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">
                        ${q.options.map((option, oIndex) => `
                            <div class="option" data-question="${qIndex}" data-option="${oIndex}" onclick="selectOption(${qIndex}, ${oIndex})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation-${qIndex}">
                        <strong>Explanation:</strong> ${q.explanation || 'No explanation provided.'}
                    </div>
                </div>
            `).join('');
        }
        
        function selectOption(questionIndex, optionIndex) {
            console.log('selectOption called:', questionIndex, optionIndex);
            
            // Deselect all options for this question
            document.querySelectorAll(`[data-question="${questionIndex}"]`).forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Select the clicked option using data attributes
            const selectedOption = document.querySelector(`[data-question="${questionIndex}"][data-option="${optionIndex}"]`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
                console.log('Option selected successfully');
            } else {
                console.log('ERROR: Could not find option element');
            }
            userAnswers[questionIndex] = optionIndex;
            console.log('userAnswers updated:', userAnswers);
        }
        
        function submitQuiz() {
            console.log('submitQuiz called');
            console.log('Current userAnswers:', userAnswers);
            console.log('Questions length:', questions.length);
            
            // Check if all questions are answered
            const unanswered = userAnswers.filter((ans, idx) => ans === null).length;
            console.log('Unanswered count:', unanswered);
            
            if (unanswered > 0) {
                alert(`Please answer all questions before submitting. ${unanswered} question(s) remaining.`);
                console.log('User answers:', userAnswers);
                console.log('Total questions:', questions.length);
                return;
            }
            
            console.log('All questions answered, calculating score...');
            
            // Calculate score
            let correct = 0;
            questions.forEach((q, index) => {
                const isCorrect = userAnswers[index] === q.correct;
                if (isCorrect) correct++;
                
                // Show correct/incorrect
                const options = document.querySelectorAll(`[data-question="${index}"]`);
                options.forEach((opt, oIndex) => {
                    opt.style.cursor = 'default';
                    opt.onclick = null;
                    
                    if (oIndex === q.correct) {
                        opt.classList.add('correct');
                    } else if (oIndex === userAnswers[index]) {
                        opt.classList.add('incorrect');
                    }
                });
                
                // Show explanation
                document.getElementById(`explanation-${index}`).classList.add('show');
            });
            
            // Display results
            const percentage = Math.round((correct / questions.length) * 100);
            document.getElementById('scoreDisplay').textContent = `${correct}/${questions.length} (${percentage}%)`;
            
            let feedbackText = '';
            if (percentage >= 90) {
                feedbackText = 'Excellent work! You have demonstrated mastery of this material.';
            } else if (percentage >= 80) {
                feedbackText = 'Very good! You have a strong understanding of the concepts.';
            } else if (percentage >= 70) {
                feedbackText = 'Good effort. You have grasped the fundamentals.';
            } else if (percentage >= 60) {
                feedbackText = 'Fair performance. Review the material to strengthen your understanding.';
            } else {
                feedbackText = 'Additional study is recommended. Review the session materials carefully.';
            }
            
            document.getElementById('feedback').textContent = feedbackText;
            document.getElementById('results').classList.add('show');
            document.getElementById('submitBtn').disabled = true;
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Initialize quiz on page load
        window.onload = initQuiz;
    </script>
</html>
